(this.webpackJsonpQMUN=this.webpackJsonpQMUN||[]).push([[0],{338:function(e,t,a){e.exports=a(553)},350:function(e,t,a){},553:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a(55),l=a(590),c=a(16),i=a(17),s=a(19),u=a(18),m=a(20),d=a(10),p=a.n(d),f=(a(343),a(345),a(347),a(554),a(350),a(25)),h=a(23),g=a(124),v=a(221),b=a(570),y=a(584),E=a(572),k=a(120),O=a(575),C=a(332),w=a(578),j=a(555),x=a(56),S=a(573),D=a(574),M=a(45),I=[{key:"af",value:"af",flag:"af",text:"Afghanistan"},{key:"ax",value:"ax",flag:"ax",text:"Aland Islands"},{key:"al",value:"al",flag:"al",text:"Albania"},{key:"dz",value:"dz",flag:"dz",text:"Algeria"},{key:"as",value:"as",flag:"as",text:"American Samoa"},{key:"ad",value:"ad",flag:"ad",text:"Andorra"},{key:"ao",value:"ao",flag:"ao",text:"Angola"},{key:"ai",value:"ai",flag:"ai",text:"Anguilla"},{key:"ag",value:"ag",flag:"ag",text:"Antigua"},{key:"ar",value:"ar",flag:"ar",text:"Argentina"},{key:"am",value:"am",flag:"am",text:"Armenia"},{key:"aw",value:"aw",flag:"aw",text:"Aruba"},{key:"au",value:"au",flag:"au",text:"Australia"},{key:"at",value:"at",flag:"at",text:"Austria"},{key:"az",value:"az",flag:"az",text:"Azerbaijan"},{key:"bs",value:"bs",flag:"bs",text:"Bahamas"},{key:"bh",value:"bh",flag:"bh",text:"Bahrain"},{key:"bd",value:"bd",flag:"bd",text:"Bangladesh"},{key:"bb",value:"bb",flag:"bb",text:"Barbados"},{key:"by",value:"by",flag:"by",text:"Belarus"},{key:"be",value:"be",flag:"be",text:"Belgium"},{key:"bz",value:"bz",flag:"bz",text:"Belize"},{key:"bj",value:"bj",flag:"bj",text:"Benin"},{key:"bm",value:"bm",flag:"bm",text:"Bermuda"},{key:"bt",value:"bt",flag:"bt",text:"Bhutan"},{key:"bo",value:"bo",flag:"bo",text:"Bolivia"},{key:"ba",value:"ba",flag:"ba",text:"Bosnia"},{key:"bw",value:"bw",flag:"bw",text:"Botswana"},{key:"bv",value:"bv",flag:"bv",text:"Bouvet Island"},{key:"br",value:"br",flag:"br",text:"Brazil"},{key:"vg",value:"vg",flag:"vg",text:"British Virgin Islands"},{key:"bn",value:"bn",flag:"bn",text:"Brunei"},{key:"bg",value:"bg",flag:"bg",text:"Bulgaria"},{key:"bf",value:"bf",flag:"bf",text:"Burkina Faso"},{key:"bi",value:"bi",flag:"bi",text:"Burundi"},{key:"tc",value:"tc",flag:"tc",text:"Caicos Islands"},{key:"kh",value:"kh",flag:"kh",text:"Cambodia"},{key:"cm",value:"cm",flag:"cm",text:"Cameroon"},{key:"ca",value:"ca",flag:"ca",text:"Canada"},{key:"cv",value:"cv",flag:"cv",text:"Cape Verde"},{key:"ky",value:"ky",flag:"ky",text:"Cayman Islands"},{key:"cf",value:"cf",flag:"cf",text:"Central African Republic"},{key:"td",value:"td",flag:"td",text:"Chad"},{key:"cl",value:"cl",flag:"cl",text:"Chile"},{key:"cn",value:"cn",flag:"cn",text:"China"},{key:"cx",value:"cx",flag:"cx",text:"Christmas Island"},{key:"cc",value:"cc",flag:"cc",text:"Cocos Islands"},{key:"co",value:"co",flag:"co",text:"Colombia"},{key:"km",value:"km",flag:"km",text:"Comoros"},{key:"cg",value:"cg",flag:"cg",text:"Congo Brazzaville"},{key:"cd",value:"cd",flag:"cd",text:"Congo"},{key:"ck",value:"ck",flag:"ck",text:"Cook Islands"},{key:"cr",value:"cr",flag:"cr",text:"Costa Rica"},{key:"ci",value:"ci",flag:"ci",text:"Cote Divoire"},{key:"hr",value:"hr",flag:"hr",text:"Croatia"},{key:"cu",value:"cu",flag:"cu",text:"Cuba"},{key:"cy",value:"cy",flag:"cy",text:"Cyprus"},{key:"cz",value:"cz",flag:"cz",text:"Czech Republic"},{key:"dk",value:"dk",flag:"dk",text:"Denmark"},{key:"dj",value:"dj",flag:"dj",text:"Djibouti"},{key:"dm",value:"dm",flag:"dm",text:"Dominica"},{key:"do",value:"do",flag:"do",text:"Dominican Republic"},{key:"ec",value:"ec",flag:"ec",text:"Ecuador"},{key:"eg",value:"eg",flag:"eg",text:"Egypt"},{key:"sv",value:"sv",flag:"sv",text:"El Salvador"},{key:"gb",value:"gb",flag:"gb",text:"United Kingdom"},{key:"gq",value:"gq",flag:"gq",text:"Equatorial Guinea"},{key:"er",value:"er",flag:"er",text:"Eritrea"},{key:"ee",value:"ee",flag:"ee",text:"Estonia"},{key:"et",value:"et",flag:"et",text:"Ethiopia"},{key:"eu",value:"eu",flag:"eu",text:"European Union"},{key:"fk",value:"fk",flag:"fk",text:"Falkland Islands"},{key:"fo",value:"fo",flag:"fo",text:"Faroe Islands"},{key:"fj",value:"fj",flag:"fj",text:"Fiji"},{key:"fi",value:"fi",flag:"fi",text:"Finland"},{key:"fr",value:"fr",flag:"fr",text:"France"},{key:"gf",value:"gf",flag:"gf",text:"French Guiana"},{key:"pf",value:"pf",flag:"pf",text:"French Polynesia"},{key:"tf",value:"tf",flag:"tf",text:"French Territories"},{key:"ga",value:"ga",flag:"ga",text:"Gabon"},{key:"gm",value:"gm",flag:"gm",text:"Gambia"},{key:"ge",value:"ge",flag:"ge",text:"Georgia"},{key:"de",value:"de",flag:"de",text:"Germany"},{key:"gh",value:"gh",flag:"gh",text:"Ghana"},{key:"gi",value:"gi",flag:"gi",text:"Gibraltar"},{key:"gr",value:"gr",flag:"gr",text:"Greece"},{key:"gl",value:"gl",flag:"gl",text:"Greenland"},{key:"gd",value:"gd",flag:"gd",text:"Grenada"},{key:"gp",value:"gp",flag:"gp",text:"Guadeloupe"},{key:"gu",value:"gu",flag:"gu",text:"Guam"},{key:"gt",value:"gt",flag:"gt",text:"Guatemala"},{key:"gw",value:"gw",flag:"gw",text:"Guinea-Bissau"},{key:"gn",value:"gn",flag:"gn",text:"Guinea"},{key:"gy",value:"gy",flag:"gy",text:"Guyana"},{key:"ht",value:"ht",flag:"ht",text:"Haiti"},{key:"hm",value:"hm",flag:"hm",text:"Heard Island"},{key:"hn",value:"hn",flag:"hn",text:"Honduras"},{key:"hk",value:"hk",flag:"hk",text:"Hong Kong"},{key:"hu",value:"hu",flag:"hu",text:"Hungary"},{key:"is",value:"is",flag:"is",text:"Iceland"},{key:"in",value:"in",flag:"in",text:"India"},{key:"io",value:"io",flag:"io",text:"Indian Ocean Territory"},{key:"id",value:"id",flag:"id",text:"Indonesia"},{key:"ir",value:"ir",flag:"ir",text:"Iran"},{key:"iq",value:"iq",flag:"iq",text:"Iraq"},{key:"ie",value:"ie",flag:"ie",text:"Ireland"},{key:"il",value:"il",flag:"il",text:"Israel"},{key:"it",value:"it",flag:"it",text:"Italy"},{key:"jm",value:"jm",flag:"jm",text:"Jamaica"},{key:"jp",value:"jp",flag:"jp",text:"Japan"},{key:"jo",value:"jo",flag:"jo",text:"Jordan"},{key:"kz",value:"kz",flag:"kz",text:"Kazakhstan"},{key:"ke",value:"ke",flag:"ke",text:"Kenya"},{key:"ki",value:"ki",flag:"ki",text:"Kiribati"},{key:"kw",value:"kw",flag:"kw",text:"Kuwait"},{key:"kg",value:"kg",flag:"kg",text:"Kyrgyzstan"},{key:"la",value:"la",flag:"la",text:"Laos"},{key:"lv",value:"lv",flag:"lv",text:"Latvia"},{key:"lb",value:"lb",flag:"lb",text:"Lebanon"},{key:"ls",value:"ls",flag:"ls",text:"Lesotho"},{key:"lr",value:"lr",flag:"lr",text:"Liberia"},{key:"ly",value:"ly",flag:"ly",text:"Libya"},{key:"li",value:"li",flag:"li",text:"Liechtenstein"},{key:"lt",value:"lt",flag:"lt",text:"Lithuania"},{key:"lu",value:"lu",flag:"lu",text:"Luxembourg"},{key:"mo",value:"mo",flag:"mo",text:"Macau"},{key:"mk",value:"mk",flag:"mk",text:"Macedonia"},{key:"mg",value:"mg",flag:"mg",text:"Madagascar"},{key:"mw",value:"mw",flag:"mw",text:"Malawi"},{key:"my",value:"my",flag:"my",text:"Malaysia"},{key:"mv",value:"mv",flag:"mv",text:"Maldives"},{key:"ml",value:"ml",flag:"ml",text:"Mali"},{key:"mt",value:"mt",flag:"mt",text:"Malta"},{key:"mh",value:"mh",flag:"mh",text:"Marshall Islands"},{key:"mq",value:"mq",flag:"mq",text:"Martinique"},{key:"mr",value:"mr",flag:"mr",text:"Mauritania"},{key:"mu",value:"mu",flag:"mu",text:"Mauritius"},{key:"yt",value:"yt",flag:"yt",text:"Mayotte"},{key:"mx",value:"mx",flag:"mx",text:"Mexico"},{key:"fm",value:"fm",flag:"fm",text:"Micronesia"},{key:"md",value:"md",flag:"md",text:"Moldova"},{key:"mc",value:"mc",flag:"mc",text:"Monaco"},{key:"mn",value:"mn",flag:"mn",text:"Mongolia"},{key:"me",value:"me",flag:"me",text:"Montenegro"},{key:"ms",value:"ms",flag:"ms",text:"Montserrat"},{key:"ma",value:"ma",flag:"ma",text:"Morocco"},{key:"mz",value:"mz",flag:"mz",text:"Mozambique"},{key:"mm",value:"mm",flag:"mm",text:"Myanmar"},{key:"na",value:"na",flag:"na",text:"Namibia"},{key:"nr",value:"nr",flag:"nr",text:"Nauru"},{key:"np",value:"np",flag:"np",text:"Nepal"},{key:"an",value:"an",flag:"an",text:"Netherlands Antilles"},{key:"nl",value:"nl",flag:"nl",text:"Netherlands"},{key:"nc",value:"nc",flag:"nc",text:"New Caledonia"},{key:"pg",value:"pg",flag:"pg",text:"New Guinea"},{key:"nz",value:"nz",flag:"nz",text:"New Zealand"},{key:"ni",value:"ni",flag:"ni",text:"Nicaragua"},{key:"ne",value:"ne",flag:"ne",text:"Niger"},{key:"ng",value:"ng",flag:"ng",text:"Nigeria"},{key:"nu",value:"nu",flag:"nu",text:"Niue"},{key:"nf",value:"nf",flag:"nf",text:"Norfolk Island"},{key:"kp",value:"kp",flag:"kp",text:"North Korea"},{key:"mp",value:"mp",flag:"mp",text:"Northern Mariana Islands"},{key:"no",value:"no",flag:"no",text:"Norway"},{key:"om",value:"om",flag:"om",text:"Oman"},{key:"pk",value:"pk",flag:"pk",text:"Pakistan"},{key:"pw",value:"pw",flag:"pw",text:"Palau"},{key:"ps",value:"ps",flag:"ps",text:"Palestine"},{key:"pa",value:"pa",flag:"pa",text:"Panama"},{key:"py",value:"py",flag:"py",text:"Paraguay"},{key:"pe",value:"pe",flag:"pe",text:"Peru"},{key:"ph",value:"ph",flag:"ph",text:"Philippines"},{key:"pn",value:"pn",flag:"pn",text:"Pitcairn Islands"},{key:"pl",value:"pl",flag:"pl",text:"Poland"},{key:"pt",value:"pt",flag:"pt",text:"Portugal"},{key:"pr",value:"pr",flag:"pr",text:"Puerto Rico"},{key:"qa",value:"qa",flag:"qa",text:"Qatar"},{key:"re",value:"re",flag:"re",text:"Reunion"},{key:"ro",value:"ro",flag:"ro",text:"Romania"},{key:"ru",value:"ru",flag:"ru",text:"Russia"},{key:"rw",value:"rw",flag:"rw",text:"Rwanda"},{key:"sh",value:"sh",flag:"sh",text:"Saint Helena"},{key:"kn",value:"kn",flag:"kn",text:"Saint Kitts and Nevis"},{key:"lc",value:"lc",flag:"lc",text:"Saint Lucia"},{key:"pm",value:"pm",flag:"pm",text:"Saint Pierre"},{key:"vc",value:"vc",flag:"vc",text:"Saint Vincent"},{key:"ws",value:"ws",flag:"ws",text:"Samoa"},{key:"sm",value:"sm",flag:"sm",text:"San Marino"},{key:"gs",value:"gs",flag:"gs",text:"Sandwich Islands"},{key:"st",value:"st",flag:"st",text:"Sao Tome"},{key:"sa",value:"sa",flag:"sa",text:"Saudi Arabia"},{key:"sn",value:"sn",flag:"sn",text:"Senegal"},{key:"cs",value:"cs",flag:"cs",text:"Serbia"},{key:"rs",value:"rs",flag:"rs",text:"Serbia"},{key:"sc",value:"sc",flag:"sc",text:"Seychelles"},{key:"sl",value:"sl",flag:"sl",text:"Sierra Leone"},{key:"sg",value:"sg",flag:"sg",text:"Singapore"},{key:"sk",value:"sk",flag:"sk",text:"Slovakia"},{key:"si",value:"si",flag:"si",text:"Slovenia"},{key:"sb",value:"sb",flag:"sb",text:"Solomon Islands"},{key:"so",value:"so",flag:"so",text:"Somalia"},{key:"za",value:"za",flag:"za",text:"South Africa"},{key:"kr",value:"kr",flag:"kr",text:"South Korea"},{key:"es",value:"es",flag:"es",text:"Spain"},{key:"lk",value:"lk",flag:"lk",text:"Sri Lanka"},{key:"sd",value:"sd",flag:"sd",text:"Sudan"},{key:"sr",value:"sr",flag:"sr",text:"Suriname"},{key:"sj",value:"sj",flag:"sj",text:"Svalbard"},{key:"sz",value:"sz",flag:"sz",text:"Swaziland"},{key:"se",value:"se",flag:"se",text:"Sweden"},{key:"ch",value:"ch",flag:"ch",text:"Switzerland"},{key:"sy",value:"sy",flag:"sy",text:"Syria"},{key:"tw",value:"tw",flag:"tw",text:"Taiwan"},{key:"tj",value:"tj",flag:"tj",text:"Tajikistan"},{key:"tz",value:"tz",flag:"tz",text:"Tanzania"},{key:"th",value:"th",flag:"th",text:"Thailand"},{key:"tl",value:"tl",flag:"tl",text:"Timorleste"},{key:"tg",value:"tg",flag:"tg",text:"Togo"},{key:"tk",value:"tk",flag:"tk",text:"Tokelau"},{key:"to",value:"to",flag:"to",text:"Tonga"},{key:"tt",value:"tt",flag:"tt",text:"Trinidad"},{key:"tn",value:"tn",flag:"tn",text:"Tunisia"},{key:"tr",value:"tr",flag:"tr",text:"Turkey"},{key:"tm",value:"tm",flag:"tm",text:"Turkmenistan"},{key:"tv",value:"tv",flag:"tv",text:"Tuvalu"},{key:"ug",value:"ug",flag:"ug",text:"Uganda"},{key:"ua",value:"ua",flag:"ua",text:"Ukraine"},{key:"ae",value:"ae",flag:"ae",text:"United Arab Emirates"},{key:"us",value:"us",flag:"us",text:"United States"},{key:"uy",value:"uy",flag:"uy",text:"Uruguay"},{key:"um",value:"um",flag:"um",text:"Us Minor Islands"},{key:"vi",value:"vi",flag:"vi",text:"Us Virgin Islands"},{key:"uz",value:"uz",flag:"uz",text:"Uzbekistan"},{key:"vu",value:"vu",flag:"vu",text:"Vanuatu"},{key:"va",value:"va",flag:"va",text:"Vatican City"},{key:"ve",value:"ve",flag:"ve",text:"Venezuela"},{key:"vn",value:"vn",flag:"vn",text:"Vietnam"},{key:"wf",value:"wf",flag:"wf",text:"Wallis and Futuna"},{key:"eh",value:"eh",flag:"eh",text:"Western Sahara"},{key:"ye",value:"ye",flag:"ye",text:"Yemen"},{key:"zm",value:"zm",flag:"zm",text:"Zambia"},{key:"zw",value:"zw",flag:"zw",text:"Zimbabwe"}];!function(e){e.Veto="Veto",e.Standard="Standard",e.NGO="NGO",e.Observer="Observer"}(n||(n={}));var P=new Set(I.map((function(e){return e.text}))),T=function(e){return P.has(e)?e.toLowerCase():"fm"},R=function(e){return P.has(e)?I.filter((function(t){return t.text===e}))[0]:{key:e,value:e,flag:"fm",text:e}},A=a(29),F=a.n(A);function U(e,t){return!e||t}function N(e){return Object.keys(e).map((function(t){return e[t]}))}function z(e){return{key:e,value:e,text:e}}function L(e){var t=N(e||{}).map((function(e){return R(e.name)}));return A.sortBy(t,(function(e){return e.text}))}var q,H=a(571);function B(e,t){return e*(t===q.Minutes?60:1)}!function(e){e.Minutes="min",e.Seconds="sec"}(q||(q={}));var V=[q.Seconds,q.Minutes].map(z),G=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isInvalid=function(){var e=a.props.durationValue;return!e||isNaN(Number(e))||Number(e)<=0},a.handleOnSet=function(){var e=Object(h.a)(a),t=e.props,n=e.isInvalid;t.onSet&&!n()&&t.onSet()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=this.isInvalid,a=this.handleOnSet;return r.createElement(y.a.Input,{value:e.durationValue||"",placeholder:e.placeholder||"Duration",onChange:e.onDurationChange,action:!0,loading:e.loading,fluid:!0,error:t()||e.error,label:e.label},r.createElement("input",null),r.createElement(H.a,{value:e.unitValue,options:V,compact:!0,button:!0,onChange:e.onUnitChange}),e.onSet&&r.createElement(j.a,{onClick:a},"Set"))}}]),t}(r.Component);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var K={elapsed:0,remaining:Ae,ticking:!1};function X(e){var t=e?e+(new Date).getTime():(new Date).getTime();return Math.floor(t/1e3)}function _(e){var t=e.timer,a=e.timerFref,n=e.skew;if(t){var r={elapsed:t.elapsed,remaining:t.remaining,ticking:!t.ticking&&X(n)};a.set(r)}}var Z=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).tick=function(){var e=a.state.timer;if(e&&e.ticking){var t=Q({},e,{elapsed:e.elapsed+1,remaining:e.remaining-1});a.setState({timer:t}),a.props.onChange(t);var n=a.state.mute;0!==t.remaining||n||(console.info("[BEEP] Time elapsed"),a.playSound())}},a.toggleMute=function(){a.setState((function(e){return{mute:!e.mute}}))},a.localToggleTicking=function(){var e=a.state,t=e.timer,n=e.skew;_({timer:t,timerFref:a.props.timerFref,skew:n})},a.handleKeyDown=function(e){a.props.toggleKeyCode===e.keyCode&&e.altKey&&a.localToggleTicking()},a.skewCallback=function(e){e&&(console.info("Detected clock skew is",e.val(),"millis"),a.setState({skew:e.val()}))},a.timerCallback=function(e){if(e&&e.val()){var t=e.val(),n=X(a.state.skew);if(t.ticking)t=Q({},t,{remaining:t.remaining-(n-t.ticking),elapsed:t.elapsed+(n-t.ticking)});a.setState({timer:t}),a.props.onChange(t)}},a.increment=function(){var e=Number(a.state.durationField);e&&a.setState({durationField:(e+1).toString()})},a.playSound=function(){var e=new(window.audioContext||window.AudioContext||window.webkitAudioContext),t=e.createOscillator();t.type="sine",t.frequency.value=440,t.connect(e.destination),t.start(),t.stop(e.currentTime+.35)},a.set=function(){var e=Number(a.state.durationField);if(e){var t={elapsed:0,remaining:B(e,a.state.unitDropdown),ticking:!1};a.props.timerFref.set(t)}},a.decrement=function(){var e=Number(a.state.durationField);e&&a.setState({durationField:(e-1).toString()})},a.setUnit=function(e,t){a.setState({unitDropdown:t.value||q.Seconds})},a.setDuration=function(e){return a.setState({durationField:e.currentTarget.value})};var n=a.props,r=n.defaultUnit,o=n.defaultDuration;return a.state={offsetRef:p.a.database().ref("/.info/serverTimeOffset"),unitDropdown:r||q.Minutes,durationField:o?o.toString():"1",mute:!0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.handleKeyDown,t=this.timerCallback,a=this.tick,n=this.props,r=this.state,o=this.skewCallback;n.timerFref.on("value",t),r.offsetRef.on("value",o),this.setState({timerId:setInterval(a,1e3)}),document.addEventListener("keydown",e)}},{key:"componentWillUnmount",value:function(){var e=this.handleKeyDown,t=this.timerCallback,a=this.skewCallback,n=(this.tick,this.props),r=this.state,o=this.state.timerId;n.timerFref.off("value",t),r.offsetRef.off("value",a),o&&clearInterval(o),document.removeEventListener("keydown",e)}},{key:"render",value:function(){var e=this,t=this.setUnit,a=this.setDuration,n=this.state,o=n.timer,l=n.mute,c=o?o.remaining:K.remaining,i=o?o.elapsed:K.elapsed,s=function(e){var t="";(e=e||0)<0&&(t="-",e=Math.abs(e));var a=Math.floor(e/60),n=Math.floor(a/60),r=F.a.padStart((e%60).toString(),2,"0"),o=F.a.padStart((a%60).toString(),2,"0");return 0!==n?t+n+":"+o+":"+r:t+a+":"+r}(c),u=c/(c+i)*100;return r.createElement(v.a,{textAlign:"center"},r.createElement(k.a,{attached:"top left",size:"large"},this.props.name),r.createElement(j.a,{loading:!o,active:!!o&&!!o.ticking,negative:!!o&&o.remaining<0,size:"massive",onClick:function(){return e.localToggleTicking()}},s),r.createElement(j.a,{icon:!0,active:!l,onClick:this.toggleMute,negative:!!o&&(0===o.remaining&&!!o.ticking),loading:!!o&&(0===o.remaining&&!!o.ticking)},r.createElement(x.a,{name:l?"alarm mute":"alarm"})),r.createElement(S.a,{percent:u,active:!1,indicating:!0}),r.createElement(D.a,null),r.createElement(y.a,null,r.createElement(G,{unitValue:this.state.unitDropdown,durationValue:this.state.durationField,onDurationChange:a,onUnitChange:t,onSet:this.set})))}}]),t}(r.Component),J=a(569),Y=a(213);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var te,ae=function(e,t){var a=d.database().ref("committees").child(e).child("caucuses").push();return a.set(t),a},ne=function(e,t,a){return console.debug(a),d.database().ref("committees").child(e).child("caucuses").child(t).child("speaking").set(a)},re=function(e,t){return d.database().ref("committees").child(e).child("caucuses").child(t).child("status").set(Re.Closed)},oe=function(e){var t=e.history,a=e.speakingData,n=e.speaking,r=e.timerData,o=e.timer,l=e.timerResetSeconds,c=e.yielding,i=e.queueHeadData,s=e.queueHead,u=0;a&&(t.push().set(ee({},a,{duration:r.elapsed})),n.set(null),c&&(u=r.remaining),o.update({elapsed:0,remaining:l,ticking:!1})),s&&i&&(n.set(ee({},i,{duration:i.duration+u})),o.update({elapsed:0,remaining:i.duration+u,ticking:!1}),s.set(null))},le=a(168),ce=a(75);function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}!function(e){e.For="For",e.Neutral="Neutral",e.Against="Against"}(te||(te={}));var se=function(e){switch(e.stance){case te.For:return r.createElement(x.a,{name:"thumbs up outline"});case te.Against:return r.createElement(x.a,{name:"thumbs down outline"});default:return r.createElement(x.a,{name:"hand point right outline"})}},ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).yieldHandler=function(){var e=a.props,t=e.fref,n=e.data,r=e.speakerTimer,o=e.speaking,l={queueHeadData:n,queueHead:t},c=t.parent.parent,i={history:c.child("history"),speaking:c.child("speaking"),speakingData:o,timerData:r,timer:c.child("speakerTimer"),yielding:!0,timerResetSeconds:0};oe(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},i,{},l))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"renderContent",value:function(){var e=this.props,t=e.data,a=e.speaking,n=e.fref;return r.createElement(O.a.Content,null,r.createElement(O.a.Summary,null,r.createElement(O.a.User,null,t&&r.createElement(J.a,{name:T(t.who)}),t?t.who:""),r.createElement(O.a.Date,null,t?t.duration.toString()+" seconds":"")),r.createElement(O.a.Meta,null,r.createElement(O.a.Like,null,t&&r.createElement(se,{stance:t.stance}),t?t.stance:""),t&&r.createElement(k.a,{size:"mini",as:"a",onClick:function(){return n.remove()}},"Remove"),t&&a&&r.createElement(k.a,{size:"mini",as:"a",onClick:this.yieldHandler},"Yield")))}},{key:"render",value:function(){var e=this.props.draggableProvided;return e?r.createElement("div",Object.assign({className:"event",ref:e.innerRef},e.dragHandleProps,e.draggableProps),this.renderContent()):r.createElement(Y.a,null,this.renderContent())}}]),t}(r.PureComponent);var me=function(e){var t=e.data,a=e.queueFref,n=e.speaking,o=e.speakerTimer,l=Object(ce.a)(d.auth()),c=Object(M.a)(l,1)[0],i=t||{},s=Object.keys(i).map((function(e,t){return r.createElement(le.b,{key:e,draggableId:e,index:t},(function(t,l){return r.createElement(ue,{draggableProvided:t,key:e,data:i[e],fref:a.child(e),speaking:n,speakerTimer:o})}))}));return r.createElement(le.a,{onDragEnd:function(e){if(e.destination&&c){var n=t||{},r=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),o=Object(M.a)(r,1)[0];return n.splice(a,0,o),n}(Object.keys(n),e.source.index,e.destination.index);a.set({}),r.forEach((function(e){var n=(t||{})[e];n&&a.push().set(n)}))}}},r.createElement(le.c,{droppableId:"droppable"},(function(e,t){return r.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),r.createElement(O.a,{size:"large"},s))})))};function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pe(e,t){return function(a){return e.child(t.toString()).set(a.currentTarget.value)}}function fe(e,t,a,n){e.setState((function(e){var r=e[t];return Object(f.a)({},t,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},r,Object(f.a)({},a,n)))}))}function he(e,t,a){return function(n){return fe(e,t,a,n.currentTarget.value)}}function ge(e,t,a){return function(n){var r=Number(n.currentTarget.value);fe(e,t,a,r||null)}}function ve(e,t){return function(a,n){return e.child(t.toString()).set(n.value)}}function be(e,t,a){return function(n,r){return fe(e,t,a,r.value)}}function ye(e,t){return function(a,n){return e.child(t.toString()).set(n.value)}}function Ee(e,t,a){return function(n,r){return fe(e,t,a,r.value)}}function ke(e,t){return function(a,n){return e.child(t.toString()).set(n.checked)}}function Oe(e,t,a){return function(n,r){return e.child(t.toString()).set(a.filter((function(e){return e.value===r.value}))[0].text)}}function Ce(e,t,a,n){return function(r,o){return fe(e,t,a,n.filter((function(e){return e.value===o.value}))[0].text)}}function we(e){var t,a,n=e.members,o=e.caucus,l=e.caucusFref,c=r.useState(void 0),i=Object(M.a)(c,2),s=i[0],u=i[1],m=function(t){return function(){var a=e.caucus,n=Number(Ue(a));if(n&&s){var r={who:s.text,stance:t,duration:Fe(a)===q.Minutes?60*n:n};e.caucusFref.child("queue").push().set(r)}}},d=L(n),p=Ue(o),f=!s||!p;return r.createElement(v.a,{textAlign:"center"},r.createElement(k.a,{attached:"top left",size:"large"},"Queue"),r.createElement(y.a,null,r.createElement(y.a.Dropdown,{icon:"search",value:s?s.value:void 0,search:!0,selection:!0,loading:!o,error:!s,onChange:function(t,a){var n=L(e.members);u(n.filter((function(e){return e.value===a.value}))[0])},options:d}),r.createElement(G,{loading:!o,unitValue:Fe(o),placeholder:"Speaking time",durationValue:p?p.toString():void 0,onDurationChange:(t=l,a="speakerDuration",function(e){var n=Number(e.currentTarget.value);t.child(a.toString()).set(n||{})}),onUnitChange:ye(l,"speakerUnit")}),r.createElement(y.a.Checkbox,{label:"Delegates can queue",indeterminate:!o,toggle:!0,checked:o&&o.queueIsPublic||!1,onChange:ke(l,"queueIsPublic")}),r.createElement(j.a.Group,{size:"large",fluid:!0},r.createElement(j.a,{content:"For",disabled:f,onClick:m(te.For)}),r.createElement(j.a.Or,null),r.createElement(j.a,{disabled:f,content:"Neutral",onClick:m(te.Neutral)}),r.createElement(j.a.Or,null),r.createElement(j.a,{disabled:f,content:"Against",onClick:m(te.Against)}))))}var je=a(585),xe=a(101);function Se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function De(e){var t=Object(ce.a)(p.a.auth()),a=Object(M.a)(t,1)[0];console.log("allo la gagne");var n,o=function(e){78===e.keyCode&&e.altKey&&l()},l=function(){if(e.caucus){var t=e.caucus.queue||{},a=Object.keys(t)[0],n={};a&&(n={queueHeadData:t[a],queueHead:e.fref.child("queue").child(a)});var r=Ue(e.caucus),o=r?r*(Fe(e.caucus)===q.Minutes?60:1):60,l={history:e.fref.child("history"),speakingData:e.caucus.speaking,speaking:e.fref.child("speaking"),timerData:e.speakerTimer,timer:e.fref.child("speakerTimer"),yielding:!1,timerResetSeconds:o};oe(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l,{},n))}};n=Object(xe.b)(p.a.database().ref("/.info/serverTimeOffset"));var c=e.caucus,i=e.speakerTimer.ticking,s=c?c.queue:{},u=!!c&&!!c.speaking,m=F.a.values(s).length,d=m>0,h=m>1,g=u||d,b=r.createElement(j.a,{basic:!0,icon:!0,positive:!0,disabled:!g,onClick:l},r.createElement(x.a,{name:"arrow up"}),"Stage"),y=r.createElement(j.a,{basic:!0,icon:!0,positive:!0,disabled:!g,onClick:function(){_({timerFref:e.fref.child("speakerTimer"),timer:e.speakerTimer,skew:n.value})}},r.createElement(x.a,{name:"hourglass start"}),"Start"),E=r.createElement(j.a,{basic:!0,icon:!0,primary:!0,disabled:!g,onClick:l},r.createElement(x.a,{name:"arrow up"}),"Next"),O=r.createElement(j.a,{basic:!0,icon:!0,negative:!0,disabled:!g,onClick:l},r.createElement(x.a,{name:"hourglass end"}),"Stop"),C=r.createElement(j.a,{icon:!0,disabled:!h,basic:!0,color:"purple",onClick:function(){if(e.caucus&&a){var t=e.caucus.queue||{},n=F.a.values(t),r=n.filter((function(e){return e.stance===te.For})),o=n.filter((function(e){return e.stance===te.Against})),l=n.filter((function(e){return e.stance===te.Neutral})),c=F.a.flatten(F.a.zip(r,o,l));e.fref.child("queue").set({}),c.forEach((function(t){t&&e.fref.child("queue").push().set(t)}))}}},r.createElement(x.a,{name:"random"}),"Order"),w=E;return u?u&&!i?w=y:u&&i&&d?w=E:u&&i&&!d&&(w=O):w=b,r.useEffect((function(){return document.addEventListener("keydown",o),function(){return document.removeEventListener("keydown",o)}})),r.createElement(v.a,{textAlign:"center",loading:!c},r.createElement(k.a,{attached:"top left",size:"large"},"Next Speaking"),w,r.createElement(je.a,{trigger:C,content:"Orders the list so that speakers are 'For', then 'Against', then 'Neutral', then 'For', etc."}),r.createElement(me,{data:c?c.queue:void 0,queueFref:e.fref.child("queue"),speaking:c?c.speaking:void 0,speakerTimer:e.speakerTimer}))}var Me=a(589),Ie=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.item,a=e.id;console.info("".concat(t," with ID ").concat(a," could not be found"))}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.id;return r.createElement(Me.a,{error:!0,icon:!0},r.createElement(x.a,{name:"question"}),r.createElement(Me.a.Content,null,r.createElement(Me.a.Header,{as:"h1"},"Not found"),"The ",t," you were looking (ID: ",a,") for could not be found. It may have been deleted, or the URL you navigated to was incorrect."))}}]),t}(r.PureComponent);function Pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pe(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Re,Ae=60;function Fe(e){return e&&e.speakerUnit||q.Seconds}function Ue(e){return e&&e.speakerDuration?e.speakerDuration:void 0}!function(e){e.Open="Open",e.Closed="Closed"}(Re||(Re={}));var Ne,ze=[Re.Open,Re.Closed].map(z),Le={name:"untitled caucus",topic:"",status:Re.Open,speakerTimer:Te({},K,{remaining:Ae}),speakerDuration:Ae,speakerUnit:q.Seconds,caucusTimer:Te({},K,{remaining:600}),queueIsPublic:!1,queue:{},history:{}},qe=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).firebaseCallback=function(e){e&&a.setState({committee:e.val(),loading:!1})},a.recoverCaucusFref=function(){var e=a.props.match.params.caucusID;return a.state.committeeFref.child("caucuses").child(e)},a.renderHeader=function(e){var t=a.recoverCaucusFref(),n=r.createElement(g.a,{value:e?e.status:Re.Open,options:ze,onChange:ye(t,"status")});return r.createElement(v.a,{loading:!e},r.createElement("a",{target:"_blank",href:"/committees/"+a.props.match.params.committeeID+"/"+a.props.match.params.caucusID+"/speakerslist"},"Projector View"),r.createElement(b.a,{label:n,labelPosition:"right",value:e?e.name:"",onChange:pe(t,"name"),attatched:"top",size:"massive",fluid:!0,placeholder:"Set caucus name"}),r.createElement(y.a,null,r.createElement(E.a,{value:e?e.topic:"",autoHeight:!0,onChange:ve(t,"topic"),attatched:"top",rows:1,placeholder:"Set caucus details"})))},a.renderNowSpeaking=function(e){var t=a.state.speakerTimer,n=a.recoverCaucusFref(),o=e?e.speaking:void 0;return r.createElement(v.a,{loading:!e},r.createElement(k.a,{attached:"top left",size:"large"},"Now Speaking"),r.createElement(O.a,{size:"large"},r.createElement(ue,{data:o,fref:n.child("speaking"),speakerTimer:t})))},a.setSpeakerTimer=function(e){a.setState({speakerTimer:e})},a.setCaucusTimer=function(e){a.setState({caucusTimer:e})},a.renderCaucus=function(e){var t=Object(h.a)(a),n=t.renderNowSpeaking,o=t.renderHeader,l=t.recoverCaucusFref,c=a.state,i=c.speakerTimer,s=c.committee,u=a.props.match.params.caucusID,m=l(),d=sn(s),p=r.createElement(Z,{name:"Speaker Timer",timerFref:m.child("speakerTimer"),key:u+"speakerTimer",onChange:a.setSpeakerTimer,toggleKeyCode:83,defaultUnit:Fe(e),defaultDuration:Ue(e)||60}),f=r.createElement(Z,{name:"Suspension Timer",timerFref:m.child("caucusTimer"),key:u+"caucusTimer",onChange:a.setCaucusTimer,toggleKeyCode:67,defaultUnit:q.Minutes,defaultDuration:10}),g=un(s),v=g.autoNextSpeaker,b=g.timersInSeparateColumns,y=g.moveQueueUp,E=r.createElement(C.a.Row,null,r.createElement(C.a.Column,null,o(e))),k=r.createElement(we,{caucus:e,members:d,caucusFref:m}),O=r.createElement(De,{caucus:e,fref:m,speakerTimer:i,autoNextSpeaker:v}),j=b?r.createElement(C.a.Row,null,r.createElement(C.a.Column,null,p,n(e),O),r.createElement(C.a.Column,null,f,k)):r.createElement(C.a.Row,null,r.createElement(C.a.Column,null,n(e),y&&k,O,!y&&k),r.createElement(C.a.Column,null,p,f));return r.createElement(w.a,null,r.createElement(C.a,{columns:"equal",stackable:!0},E,j))};var n=e.match;return a.state={committeeFref:p.a.database().ref("committees").child(n.params.committeeID),caucusTimer:Le.caucusTimer,speakerTimer:Le.speakerTimer,loading:!0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.state.committeeFref.on("value",this.firebaseCallback)}},{key:"componentWillUnmount",value:function(){this.state.committeeFref.off("value",this.firebaseCallback)}},{key:"render",value:function(){var e=this.state,t=e.committee,a=e.loading,n=this.props.match.params.caucusID,o=mn(t,n);return a||o?this.renderCaucus(o):r.createElement(w.a,{text:!0},r.createElement(Ie,{item:"caucus",id:n}))}}]),t}(r.Component);!function(e){e.Proposed="Proposed",e.Incorporated="Incorporated",e.Rejected="Rejected"}(Ne||(Ne={}));var He=[Ne.Proposed,Ne.Incorporated,Ne.Rejected].map(z),Be={proposer:"",status:Ne.Proposed,text:""};var Ve=a(588),Ge=a(587),We=a(591),Qe=a(597),Ke=a(72),Xe=a(586),_e=a(568),Ze=function(e){return e.rank===n.Veto||e.rank===n.Standard},Je=function(e){return e.rank!==n.NGO},Ye=[n.Standard,n.Veto,n.NGO,n.Observer].map(z);function $e(e){var t={},a=N(e&&e.members||t),n=a.filter((function(e){return e.present})),r=a.length,o=n.length,l=a.filter(Ze).length,c=n.filter(Ze).length,i=n.filter(Je).length,s=Math.ceil(.5*c),u=Math.ceil(c*(2/3)),m=Math.ceil(.25*l);return{delegatesNo:r,presentNo:o,absCanVote:l,canVoteNo:c,nonNGONo:i,quorum:m,procedural:Math.ceil(.5*i),operative:Math.ceil(.5*c),hasQuorum:o>=m,draftResolution:Math.ceil(.25*c),amendment:Math.ceil(.1*c),twoThirdsMajority:u,simpleMajority:s}}function et(e){var t=e.data,a=e.verbose,n=$e(t),o=n.delegatesNo,l=n.presentNo,c=(n.absCanVote,n.canVoteNo),i=(n.nonNGONo,n.quorum),s=n.procedural,u=n.operative,m=n.hasQuorum,d=n.draftResolution,p=n.amendment,f=n.twoThirdsMajority;return r.createElement(Xe.a,{definition:!0},r.createElement(Xe.a.Header,null,r.createElement(Xe.a.Row,null,r.createElement(Xe.a.HeaderCell,null),r.createElement(Xe.a.HeaderCell,null,"Number"),r.createElement(Xe.a.HeaderCell,null,"Description"),a&&r.createElement(Xe.a.HeaderCell,null,"Threshold"))),r.createElement(Xe.a.Body,null,r.createElement(Xe.a.Row,null,r.createElement(Xe.a.Cell,null,"Total"),r.createElement(Xe.a.Cell,null,o.toString()),r.createElement(Xe.a.Cell,null,"Delegates in committee")),r.createElement(Xe.a.Row,null,r.createElement(Xe.a.Cell,null,"Present"),r.createElement(Xe.a.Cell,null,l.toString()),r.createElement(Xe.a.Cell,null,"Delegates in attendance")),r.createElement(Xe.a.Row,null,r.createElement(Xe.a.Cell,null,"Have voting rights"),r.createElement(Xe.a.Cell,null,c.toString()),r.createElement(Xe.a.Cell,null,"Present delegates with voting rights")),a&&r.createElement(Xe.a.Row,null,r.createElement(Xe.a.Cell,{error:!m},"Debate"),r.createElement(Xe.a.Cell,{error:!m},i.toString()),r.createElement(Xe.a.Cell,{error:!m},"Delegates needed for debate"),r.createElement(Xe.a.Cell,{error:!m},"25% of of members with voting rights")),a&&r.createElement(Xe.a.Row,null,r.createElement(Xe.a.Cell,null,"Procedural threshold"),r.createElement(Xe.a.Cell,null,s.toString()),r.createElement(Xe.a.Cell,null,"Required votes for procedural matters"),r.createElement(Xe.a.Cell,null,"50% of present non-NGO delegates")),r.createElement(Xe.a.Row,null,r.createElement(Xe.a.Cell,null,"Operative threshold"),r.createElement(Xe.a.Cell,null,u.toString()),r.createElement(Xe.a.Cell,null,"Required votes for operative matters, such as amendments"),a&&r.createElement(Xe.a.Cell,null,"50% of present delegates with voting rights")),r.createElement(Xe.a.Row,null,r.createElement(Xe.a.Cell,null,"Two-thirds majority"),r.createElement(Xe.a.Cell,null,f.toString()),r.createElement(Xe.a.Cell,null,"Required votes for passing resolutions"),a&&r.createElement(Xe.a.Cell,null,"2/3 of present delegates with voting rights")),a&&r.createElement(Xe.a.Row,null,r.createElement(Xe.a.Cell,null,"Draft resolution"),r.createElement(Xe.a.Cell,null,d.toString()),r.createElement(Xe.a.Cell,null,"Delegates needed to table a draft resolution"),r.createElement(Xe.a.Cell,null,"25% of present delegates with voting rights")),a&&r.createElement(Xe.a.Row,null,r.createElement(Xe.a.Cell,null,"Amendment"),r.createElement(Xe.a.Cell,null,p.toString()),r.createElement(Xe.a.Cell,null,"Delegates needed to table an amendment"),r.createElement(Xe.a.Cell,null,"10% of present delegates with voting rights"))))}var tt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).renderMemberItem=function(e,t,a){return r.createElement(Xe.a.Row,{key:e},r.createElement(Xe.a.Cell,null,r.createElement(J.a,{name:T(t.name)}),t.name),r.createElement(Xe.a.Cell,null,r.createElement(g.a,{search:!0,selection:!0,fluid:!0,options:Ye,onChange:ye(a,"rank"),value:t.rank})),r.createElement(Xe.a.Cell,{collapsing:!0},r.createElement(_e.a,{toggle:!0,checked:t.present,onChange:ke(a,"present")})),r.createElement(Xe.a.Cell,{collapsing:!0},r.createElement(_e.a,{toggle:!0,checked:t.voting,onChange:ke(a,"voting")})),r.createElement(Xe.a.Cell,{collapsing:!0},r.createElement(j.a,{className:"members__button--remove-member",icon:"trash",negative:!0,basic:!0,onClick:function(){return a.remove()}})))},a.canPush=function(){var e=a.state.member,t=a.props.committee.members||{},n=Object.keys(t).map((function(e){return t[e].name}));return!F.a.includes(n,e.text)},a.pushMember=function(e,t){e.preventDefault();var n={name:a.state.member.text,rank:a.state.rank,present:a.state.present,voting:a.state.voting};a.props.fref.child("members").push().set(n)},a.setMember=function(e,t){var n=a.state.options,r=[].concat(Object(Ke.a)(n),Object(Ke.a)(I)).filter((function(e){return e.value===t.value}))[0];r&&a.setState({member:r})},a.setPresent=function(e,t){a.setState({present:t.checked||!1})},a.setVoting=function(e,t){a.setState({voting:t.checked||!1})},a.setRank=function(e,t){a.setState({rank:t.value||n.Standard})},a.handleAdd=function(e,t){var n=R(t.value.toString());if(F.a.includes(I,n))a.setState({member:n});else{var r=[n].concat(Object(Ke.a)(a.state.options));a.setState({member:n,options:r})}},a.gotoGSL=function(){var e=a.props.match.params.committeeID;a.props.history.push("/committees/".concat(e,"/caucuses/gsl"))},a.CommitteeMembers=function(e){var t=a.props.committee.members||{},n=Object.keys(t).map((function(n){return a.renderMemberItem(n,t[n],e.fref.child("members").child(n))}));return r.createElement(r.Fragment,null,r.createElement(Xe.a,{compact:!0,celled:!0,definition:!0},r.createElement(Xe.a.Header,null,r.createElement(Xe.a.Row,null,r.createElement(Xe.a.HeaderCell,null),r.createElement(Xe.a.HeaderCell,null,"Rank"),r.createElement(Xe.a.HeaderCell,null,"Present"),r.createElement(Xe.a.HeaderCell,null,"Voting"),r.createElement(Xe.a.HeaderCell,null))),r.createElement(Xe.a.Header,{fullWidth:!0},a.renderAdder()),r.createElement(Xe.a.Body,null,n.reverse())),0===n.length?r.createElement(Me.a,{error:!0},"Add at least one committee member to proceed"):r.createElement(j.a,{onClick:a.gotoGSL,primary:!0,fluid:!0},"General Speakers List",r.createElement(x.a,{name:"arrow right"})))},a.state={member:I[0],options:[],rank:n.Standard,voting:!1,present:!0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"renderAdder",value:function(){var e=this.handleAdd,t=this.setMember,a=this.setRank,n=this.setPresent,o=this.setVoting,l=this.state,c=l.present,i=l.voting,s=l.options,u=l.member;return r.createElement(Xe.a.Row,null,r.createElement(Xe.a.HeaderCell,null,r.createElement(g.a,{icon:"search",className:"adder__dropdown--select-member",placeholder:"Select preset member",search:!0,selection:!0,fluid:!0,allowAdditions:!0,error:!this.canPush(),options:[].concat(Object(Ke.a)(s),Object(Ke.a)(I)),onAddItem:e,onChange:t,value:u.key})),r.createElement(Xe.a.HeaderCell,null,r.createElement(g.a,{className:"adder__dropdown--select-rank",search:!0,selection:!0,fluid:!0,options:Ye,onChange:a,value:this.state.rank})),r.createElement(Xe.a.HeaderCell,{collapsing:!0},r.createElement(_e.a,{className:"adder__checkbox--toggle-present",toggle:!0,checked:c,onChange:n})),r.createElement(Xe.a.HeaderCell,{collapsing:!0},r.createElement(_e.a,{className:"adder__checkbox--toggle-voting",toggle:!0,checked:i,onChange:o})),r.createElement(Xe.a.HeaderCell,null,r.createElement(j.a,{className:"adder__button--add-member",icon:"plus",primary:!0,basic:!0,disabled:!this.canPush(),onClick:this.pushMember})))}},{key:"render",value:function(){var e=this.CommitteeMembers,t=this.props,a=t.committee,n=t.fref,o=[{menuItem:"Members",render:function(){return r.createElement(Qe.a.Pane,null,r.createElement(e,{data:a,fref:n}))}},{menuItem:"Thresholds",render:function(){return r.createElement(Qe.a.Pane,null,r.createElement(et,{verbose:!0,data:a}))}}];return r.createElement(w.a,{text:!0,style:{padding:"1em 0em"}},r.createElement(Qe.a,{panes:o}))}}]),t}(r.Component),at=function(e,t,a,n){var r=d.database().ref("committees").child(e).child("resolutions").child(t).child("votes").child(a);return n?r.set(n):r.remove()},nt=function(e,t,a){var n=d.database().ref("committees").child(e).child("resolutions").child(t).child("amendments").push();return n.set(a),n},rt=function(e,t){var a=d.database().ref("committees").child(e).child("resolutions").push();return a.set(t),a},ot=a(315),lt=a.n(ot),ct=a(592),it=a(579),st=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.small?r.createElement(x.a,{name:"circle notched",loading:!0}):r.createElement(ct.a,{active:!0,inverted:!0},r.createElement(it.a,{inverted:!0,size:"large"}))}}]),t}(r.PureComponent);function ut(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function mt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ut(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ut(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var dt,pt="align left",ft="file outline",ht="linkify";!function(e){e.Link="link",e.File="file",e.Text="text"}(dt||(dt={}));var gt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).recoverStorageRef=function(){var e=a.props,t=e.committeeID,n=e.post;return n.type===dt.File?p.a.storage().ref().child("committees").child(t).child(n.filename):null},a.download=function(e){return function(){a.recoverStorageRef().getDownloadURL().then((function(t){var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(t){var n=a.response;lt.a.saveAs(n,e)},a.open("GET",t),a.send()}))}},a.renderDate=function(e){var t=a.props.post,n=e;if(t.timestamp){var r=((new Date).getTime()-new Date(t.timestamp).getTime())/1e3;n=r<60?"".concat(e," ").concat(Math.round(r)," seconds ago"):r<3600?"".concat(e," ").concat(Math.round(r/60)," minutes ago"):r<86400?"".concat(e," ").concat(Math.round(r/3600)," hours ago"):"".concat(e," ").concat(Math.round(r/86400)," days ago")}return n},a.renderText=function(e){return r.createElement(O.a.Event,null,r.createElement(O.a.Label,{icon:pt}),r.createElement(O.a.Content,null,r.createElement(O.a.Summary,null,r.createElement(O.a.User,null,r.createElement(J.a,{name:T(e.uploader)})," ",e.uploader),r.createElement(O.a.Date,null,a.renderDate("Posted"))),r.createElement(O.a.Extra,{style:{whiteSpace:"pre-wrap"},text:!0},e.body),r.createElement(O.a.Meta,null,r.createElement("a",{onClick:a.props.onDelete},"Delete"),e.forResolution&&r.createElement("a",{onClick:a.props.onPromoteToAmendment},"Create amendment"))))},a.renderFile=function(e){return r.createElement(O.a.Event,null,r.createElement(O.a.Label,{icon:ft}),r.createElement(O.a.Content,null,r.createElement(O.a.Summary,null,r.createElement(O.a.User,null,r.createElement(J.a,{name:T(e.uploader)})," ",e.uploader)," uploaded a file",r.createElement(O.a.Date,null,a.renderDate("Uploaded"))),r.createElement(O.a.Extra,null,r.createElement("a",{onClick:a.download(e.filename)},e.filename)),r.createElement(O.a.Meta,null,r.createElement("a",{onClick:a.props.onDelete},"Delete"))))},a.renderLink=function(e){return r.createElement(O.a.Event,null,r.createElement(O.a.Label,{icon:ht}),r.createElement(O.a.Content,null,r.createElement(O.a.Summary,null,r.createElement(O.a.User,null,r.createElement(J.a,{name:T(e.uploader)})," ",e.uploader)," posted a link",r.createElement(O.a.Date,null,a.renderDate("Posted"))),r.createElement(O.a.Extra,null,r.createElement("a",{href:e.url},e.name||e.url)),e.name&&r.createElement(O.a.Meta,null,r.createElement("a",{href:e.url},e.url)),r.createElement("br",null),r.createElement(O.a.Meta,null,r.createElement("a",{onClick:a.props.onDelete},"Delete"))))},a.state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.post;this.props.post.timestamp||t.type!==dt.File||this.recoverStorageRef().getMetadata().then((function(t){e.setState({metadata:t})}))}},{key:"render",value:function(){var e=this.props.post;switch(e.type){case dt.File:return this.renderFile(e);case dt.Link:return this.renderLink(e);case dt.Text:return this.renderText(e);default:return this.renderFile(e)}}}]),t}(r.Component),vt=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).firebaseCallback=function(e){e&&a.setState({committee:e.val()})},a.handleError=function(e){a.setState({errorCode:e.code})},a.handleSnapshot=function(e){var t=e.bytesTransferred/e.totalBytes*100;a.setState({progress:t,state:e.state})},a.handleComplete=function(e){return function(){var t=a.state.uploader,n=a.props.forResolution,r={type:dt.File,timestamp:(new Date).getTime(),filename:e.snapshot.ref.name,uploader:t?t.text:"Unknown"};n&&(r=mt({},r,{forResolution:n})),a.state.committeeFref.child("files").push().set(r),a.setState({state:e.snapshot.state}),a.clear()}},a.onFileChange=function(e){a.setState({file:e.target.files[0]})},a.clear=function(){a.setState({link:"",body:"",file:void 0})},a.postFile=function(){var e=Object(h.a)(a),t=e.handleSnapshot,n=e.handleError,r=e.handleComplete,o=a.state.file,l=a.props.match.params.committeeID,c=p.a.storage().ref(),i={contentType:o.type},s=c.child("committees").child(l).child(o.name).put(o,i);s.on(p.a.storage.TaskEvent.STATE_CHANGED,t,n,r(s))},a.postLink=function(){var e=a.state,t=e.uploader,n=e.link,r=e.body,o=a.props.forResolution,l={type:dt.Link,timestamp:(new Date).getTime(),name:r,url:n,uploader:t?t.text:"Unknown"};o&&(l=mt({},l,{forResolution:o})),a.state.committeeFref.child("files").push().set(l),a.clear()},a.postText=function(){var e=a.state,t=e.uploader,n=e.body,r=a.props.forResolution,o={type:dt.Text,timestamp:(new Date).getTime(),body:n,uploader:t?t.text:"Unknown"};r&&(o=mt({},o,{forResolution:r})),a.state.committeeFref.child("files").push().set(o),a.clear()},a.setMember=function(e,t){var n=cn(a.state.committee);a.setState({uploader:n.filter((function(e){return e.value===t.value}))[0]})},a.renderUploader=function(){var e=a.state,t=e.progress,n=e.state,o=e.errorCode,l=e.committee,c=e.file,i=e.uploader,s=cn(l);return r.createElement(r.Fragment,null,r.createElement(S.a,{percent:Math.round(t||0),progress:!0,warning:n===p.a.storage.TaskState.PAUSED,success:n===p.a.storage.TaskState.SUCCESS,error:!!o,active:!0,label:o}),r.createElement(y.a,{onSubmit:a.postFile},r.createElement("input",{type:"file",onChange:a.onFileChange}),r.createElement(y.a.Group,{widths:"equal"},r.createElement(y.a.Dropdown,{icon:"search",key:"uploader",value:i?i.key:void 0,search:!0,fluid:!0,selection:!0,error:!i,onChange:a.setMember,options:s,label:"Uploader",required:!0}),r.createElement(j.a,{type:"submit",loading:n===p.a.storage.TaskState.RUNNING,disabled:!c||!i},"Upload"))))},a.setBody=function(e,t){a.setState({body:t.value.toString()})},a.setName=function(e){a.setState({body:e.currentTarget.value})},a.setLink=function(e){a.setState({link:e.currentTarget.value})},a.setFilter=function(e,t){a.setState({filtered:t.value})},a.renderFilter=function(){var e=cn(a.state.committee);return r.createElement(y.a,null,r.createElement(y.a.Dropdown,{icon:"search",value:a.state.filtered.map((function(e){return e})),search:!0,multiple:!0,selection:!0,onChange:a.setFilter,options:e,label:"View posts only by"}))},a.deletePost=function(e){return function(){a.state.committeeFref.child("files").child(e).remove()}},a.promoteToAmendment=function(e){return function(){var t=a.props.match.params.committeeID;e.type===dt.Text&&e.forResolution&&(nt(t,e.forResolution,mt({},Be,{proposer:e.uploader,text:e.body})),a.props.history.push("/committees/".concat(t,"/resolutions/").concat(e.forResolution,"/amendments")))}},a.renderLinker=function(){var e=a.state,t=e.committee,n=e.uploader,o=e.body,l=e.link,c=cn(t);return r.createElement(y.a,{onSubmit:a.postLink},r.createElement(y.a.Input,{value:o,onChange:a.setName,autoHeight:!0,label:"Name",rows:1}),r.createElement(y.a.Input,{label:"Link",required:!0,error:!l,value:l,onChange:a.setLink,placeholder:"https://docs.google.com/document/x"}),r.createElement(y.a.Group,{widths:"equal"},r.createElement(y.a.Dropdown,{icon:"search",key:"uploader",required:!0,value:n?n.key:void 0,search:!0,selection:!0,error:!n,onChange:a.setMember,options:c,label:"Poster"}),r.createElement(j.a,{type:"submit",disabled:!l||!n},"Post")))},a.renderPoster=function(){var e=a.state,t=e.committee,n=e.uploader,o=e.body,l=cn(t);return r.createElement(y.a,{onSubmit:a.postText},r.createElement(y.a.TextArea,{value:o,onChange:a.setBody,autoHeight:!0,label:"Body",rows:3}),r.createElement(y.a.Group,{widths:"equal"},r.createElement(y.a.Dropdown,{icon:"search",key:"uploader",required:!0,value:n?n.key:void 0,search:!0,selection:!0,error:!n,onChange:a.setMember,options:l,label:"Poster"}),r.createElement(j.a,{type:"submit",disabled:!o||!n},"Post")))},a.isFiltered=function(e){var t=a.state.filtered;return 0===t.length||(!!t.includes(e.uploader)||I.filter((function(e){return t.includes(e.key)})).map((function(e){return e.text})).includes(e.uploader))},a.isResolutionAssociated=function(e){return!(!a.props.forResolution&&e.forResolution)&&(!a.props.forResolution||a.props.forResolution===e.forResolution)};var n=e.match;return a.state={link:"",body:"",committeeFref:p.a.database().ref("committees").child(n.params.committeeID),filtered:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.state.committeeFref.on("value",this.firebaseCallback)}},{key:"componentWillUnmount",value:function(){this.state.committeeFref.off("value",this.firebaseCallback)}},{key:"render",value:function(){var e=this,t=this.state.committee,a=this.props.match.params.committeeID,n=t&&t.files||{},o=[{menuItem:{key:"Text",icon:pt,content:"Text"},render:function(){return r.createElement(Qe.a.Pane,null,e.renderPoster())}},{menuItem:{key:"Link",icon:ht,content:"Link"},render:function(){return r.createElement(Qe.a.Pane,null,e.renderLinker())}},{menuItem:{key:"File",icon:ft,content:"File"},render:function(){return r.createElement(Qe.a.Pane,null,e.renderUploader())}}],l=r.createElement(r.Fragment,null,r.createElement(Qe.a,{menu:{attached:!0,tabular:!1},panes:o}),this.renderFilter(),r.createElement(O.a,{size:"large"},t?Object.keys(n).reverse().filter((function(t){return e.isFiltered(n[t])})).filter((function(t){return e.isResolutionAssociated(n[t])})).map((function(t){return r.createElement(gt,{key:t,onDelete:e.deletePost(t),onPromoteToAmendment:e.promoteToAmendment(n[t]),committeeID:a,post:n[t]})})):r.createElement(st,null)));return this.props.forResolution?l:r.createElement(w.a,{text:!0,style:{padding:"1em 0em"}},l)}}]),t}(r.Component);function bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function yt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bt(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Et,kt=["feed","text","amendments","voting"],Ot=r.createElement(Me.a,{error:!0,content:"A resolution's proposer and seconder cannot be the same"}),Ct=r.createElement(Me.a,{basic:!0,attached:"bottom"},"Delegates can create and edit, but not delete, amendments.");!function(e){e.Introduced="Introduced",e.Passed="Passed",e.Failed="Failed"}(Et||(Et={}));var wt,jt=[Et.Introduced,Et.Passed,Et.Failed].map(z);!function(e){e.Simple="Simple majority",e.TwoThirds="Two-thirds majority",e.TwoThirdsNoAbstentions="Two-thirds majority, ignoring abstentions"}(wt||(wt={}));var xt,St=[{key:wt.Simple,value:wt.Simple,text:"Simple (50%) majority required"},{key:wt.TwoThirds,value:wt.TwoThirds,text:"Two-thirds majority required"},{key:wt.TwoThirdsNoAbstentions,value:wt.TwoThirdsNoAbstentions,text:"Two-thirds majority required, ignoring abstentions"}];!function(e){e.For="For",e.Abstaining="Abstaining",e.Against="Against"}(xt||(xt={}));var Dt={name:"untitled resolution",link:"",status:Et.Introduced,amendments:{},votes:{},amendmentsArePublic:!1,requiredMajority:wt.Simple},Mt=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).authStateChangedCallback=function(e){a.setState({user:e})},a.firebaseCallback=function(e){e&&a.setState({committee:e.val(),loading:!1})},a.recoverResolutionFref=function(){var e=a.props.match.params.resolutionID;return a.state.committeeFref.child("resolutions").child(e)},a.handlePushAmendment=function(){a.recoverResolutionFref().child("amendments").push().set(Be)},a.handleProvisionAmendment=function(e,t){var n=a.props.match.params.committeeID,r=t.proposer,o=t.text,l=yt({},Le,{name:"Amendment by ".concat(t.proposer),topic:o,speaking:{duration:Le.speakerTimer.remaining,who:r,stance:te.For}}),c=ae(n,l);a.recoverResolutionFref().child("amendments").child(e).child("caucus").set(c.key),a.gotoCaucus(c.key)},a.gotoCaucus=function(e){var t=a.props.match.params.committeeID;e&&a.props.history.push("/committees/".concat(t,"/caucuses/").concat(e))},a.handleProvisionResolution=function(e){var t=a.props.match.params.committeeID,n=e.proposer,r=e.seconder,o=e.name,l=yt({},Le,{name:o,speaking:{duration:Le.speakerTimer.remaining,who:n||"",stance:te.For}}),c=ae(t,l);c.child("queue").push().set({duration:Le.speakerTimer.remaining,who:r,stance:te.For}),a.recoverResolutionFref().child("caucus").set(c.key),a.gotoCaucus(c.key)},a.renderAmendment=function(e,t,n){var o=Object(h.a)(a).handleProvisionAmendment,l=t.proposer,c=t.text,i=t.status,s=a.state,u=s.user,m=s.committee,d=r.createElement(E.a,{value:c,label:"Text",autoHeight:!0,onChange:ve(n,"text"),rows:1,placeholder:"Text"}),p=!1;m&&u&&(p=m.creatorUid===u.uid);var f=r.createElement(g.a,{disabled:!p,value:i,options:He,onChange:ye(n,"status")}),v=cn(a.state.committee),b=r.createElement(y.a.Dropdown,{key:"proposer",icon:"search",value:R(l).key,error:!l,search:!0,selection:!0,fluid:!0,label:"Proposer",placeholder:"Proposer",onChange:Oe(n,"proposer",v),options:v}),k=function(e){return e?e.caucus:void 0}(t)?r.createElement(j.a,{floated:"right",content:"Associated Caucus",onClick:function(){return a.gotoCaucus(t.caucus)}}):r.createElement(j.a,{floated:"right",disabled:!t||""===t.proposer||!p,content:"Provision Caucus",onClick:function(){return o(e,t)}});return r.createElement(Ve.a,{key:e},r.createElement(Ve.a.Content,null,r.createElement(Ve.a.Header,null,f,r.createElement(j.a,{floated:"right",icon:"trash",negative:!0,disabled:!p,basic:!0,onClick:function(){return n.remove()}}),k),r.createElement(Ve.a.Meta,null,b),r.createElement(y.a,null,d)))},a.cycleVote=function(e,t,n){var r=a.props.match.params,o=r.resolutionID,l=r.committeeID,c=void 0;void 0===n?c=xt.For:n===xt.For?c=t.voting?xt.Against:xt.Abstaining:n===xt.Abstaining?c=xt.Against:xt.Against,at(l,o,e,c)},a.renderVotingMember=function(e,t,n){var o,l=Object(h.a)(a).cycleVote,c="question";n===xt.For?(o="green",c="plus"):n===xt.Abstaining?(o="yellow",c="minus"):n===xt.Against&&(o="red",c="remove");var i=r.createElement(j.a,{floated:"left",color:o,icon:!0,onClick:function(){return l(e,t,n)}},r.createElement(x.a,{name:c,color:"yellow"===o?"black":void 0})),s=r.createElement(je.a,{trigger:r.createElement(k.a,{style:{marginLeft:5},circular:!0,size:"mini",color:"purple"},"V"),content:"Voting"});return r.createElement(Ge.a.Item,{key:e},i,r.createElement(Ge.a.Content,{verticalAlign:"middle"},r.createElement(Ge.a.Header,null,t.name.toUpperCase(),t.voting&&s)))},a.renderStats=function(){var e=a.state.committee;return r.createElement(et,{verbose:!1,data:e})},a.renderCount=function(e,t,n,o){var l=r.createElement(j.a,{key:"count"+e,color:t,icon:!0,fluid:!0},e.toUpperCase(),": ",o);return r.createElement(C.a.Column,{key:e},r.createElement(je.a,{trigger:l},a.renderStats()))},a.renderMajoritySelector=function(e){var t=a.recoverResolutionFref(),n=e?e.requiredMajority:void 0;return r.createElement(g.a,{placeholder:"Select majority type",search:!0,options:St,onChange:ye(t,"requiredMajority"),value:n||Dt.requiredMajority})},a.renderVoting=function(e){var t=Object(h.a)(a),o=t.renderVotingMember,l=t.renderCount,c=a.state.committee,i=(c?c.members:void 0)||{},s=(e?e.votes:void 0)||{},u=A.chain(i).keys().filter((function(e){return Ze(i[e])&&i[e].present})).sortBy((function(e){return[i[e].name]})).value(),m=u.map((function(e){return o(e,i[e],s[e])})),d=A.chain(u).filter((function(e){return i[e].rank===n.Veto&&s[e]===xt.Against})).map((function(e){return i[e]})).value(),p=!!d[0],f=Object.keys(s||{}).filter((function(e){return u.includes(e)})).map((function(e){return s[e]})),g=f.filter((function(e){return e===xt.For})).length,b=f.filter((function(e){return e===xt.Abstaining})).length,y=f.filter((function(e){return e===xt.Against})).length,E=u.length-f.length,k=e&&e.requiredMajority||Dt.requiredMajority,O=function(e,t,a,n){var r=$e(t);switch(e){case wt.TwoThirds:return r.twoThirdsMajority;case wt.TwoThirdsNoAbstentions:return Math.ceil(2/3*(a+n));case wt.Simple:default:return r.simpleMajority}}(k,c,g,y),w=function(e){switch(e){case wt.TwoThirds:case wt.TwoThirdsNoAbstentions:return"two-thirds majority";case wt.Simple:default:return"simple majority"}}(k),j=g>=O&&!p,x=g+E<O&&!p,S=Math.ceil(u.length/3),D=A.times(3,(function(e){return r.createElement(C.a.Column,{key:e},r.createElement(Ge.a,{inverted:!0},A.chain(m).drop(S*e).take(S).value()))}));return r.createElement(v.a,{inverted:!0,loading:!e,textAlign:"center"},r.createElement(C.a,{columns:"equal"},D),r.createElement(C.a,{columns:"equal"},l("yes","green","plus",g),l("no","red","remove",y),l("abstaining","yellow","minus",b)),j&&r.createElement(We.a,{inverted:!0},r.createElement(We.a.Value,null,"Passed"),r.createElement(We.a.Label,null,g," clears the required ",w," of ",O),k===wt.TwoThirdsNoAbstentions&&r.createElement(We.a.Label,null,"Further votes may change the result from 'Passed'")),x&&r.createElement(We.a,{inverted:!0},r.createElement(We.a.Value,null,"Failed"),r.createElement(We.a.Label,null,"There are insufficient votes remaining to achieve a ",w)),p&&r.createElement(We.a,{inverted:!0},r.createElement(We.a.Value,null,"Vetoed"),r.createElement(We.a.Label,null,d[0].name," was the first to veto the resolution")),r.createElement(v.a,{inverted:!0},a.renderMajoritySelector(e)))},a.renderMeta=function(e){var t=a.recoverResolutionFref(),n=Object(h.a)(a),o=n.handleProvisionResolution,l=n.amendmentsArePublic,c=cn(a.state.committee),i=e?e.proposer:void 0,s=e?e.seconder:void 0,u=!(!i||!s)&&i===s,m=r.createElement(y.a.Dropdown,{key:"proposer",icon:"search",value:i?R(i).key:void 0,error:!i||u,loading:!e,search:!0,selection:!0,fluid:!0,onChange:Oe(t,"proposer",c),options:c,label:"Proposer"}),d=r.createElement(y.a.Dropdown,{key:"seconder",loading:!e,icon:"search",value:s?R(s).key:void 0,error:!s||u,search:!0,selection:!0,fluid:!0,onChange:Oe(t,"seconder",c),options:c,label:"Seconder"}),p=u,f=a.hasLinkedCaucus(e)?r.createElement(y.a.Button,{loading:!e,disabled:!e,content:"Associated Caucus",onClick:function(){return a.gotoCaucus(e.caucus)}}):r.createElement(y.a.Button,{loading:!e,disabled:!e||!e.proposer||!e.seconder||p,content:"Provision Caucus",onClick:function(){return o(e)}});return r.createElement(r.Fragment,null,r.createElement(v.a,{attached:l(e)?"top":void 0},r.createElement(y.a,{error:p},m,d,Ot,f,r.createElement(y.a.Checkbox,{label:"Delegates can amend",indeterminate:!e,toggle:!0,checked:l(e),onChange:ke(t,"amendmentsArePublic")}))),l(e)&&Ct)},a.renderText=function(e){var t=a.recoverResolutionFref();return r.createElement(y.a,null,r.createElement(E.a,{value:e?e.link:"",autoHeight:!0,onChange:ve(t,"link"),attatched:"top",rows:3,placeholder:"Resolution text"}))},a.renderHeader=function(e){var t=a.recoverResolutionFref(),n=r.createElement(g.a,{value:e?e.status:Et.Introduced,options:jt,onChange:ye(t,"status"),loading:!e});return r.createElement(v.a,null,r.createElement(b.a,{value:e?e.name:"",label:n,loading:!e,labelPosition:"right",onChange:pe(t,"name"),attatched:"top",size:"massive",fluid:!0,placeholder:"Set resolution name"}))},a.renderAmendments=function(e){var t=Object(h.a)(a),n=t.renderAmendment,r=(0,t.recoverResolutionFref)();return Object.keys(e).reverse().map((function(t){return n(t,e[t],r.child("amendments").child(t))}))},a.renderAmendmentsGroup=function(e){var t=Object(h.a)(a),n=t.renderAmendments,o=t.handlePushAmendment,l=e?e.amendments:void 0,c=r.createElement(Ve.a,null,r.createElement(j.a,{icon:"plus",primary:!0,fluid:!0,basic:!0,onClick:o}));return r.createElement(Ve.a.Group,{itemsPerRow:1},c,n(l||{}))},a.hasLinkedCaucus=function(e){return!!e&&!!e.caucus},a.amendmentsArePublic=function(e){return e&&e.amendmentsArePublic||!1},a.renderFeed=function(){var e=a.props.match.params.resolutionID;return r.createElement(vt,Object.assign({},a.props,{forResolution:e}))},a.onTabChange=function(e,t){var n=a.props.match.params,r=n.committeeID,o=n.resolutionID,l=kt[t.activeIndex];l?a.props.history.push("/committees/".concat(r,"/resolutions/").concat(o,"/").concat(l)):a.props.history.push("/committees/".concat(r,"/resolutions/").concat(o))},a.renderResolution=function(e){var t=Object(h.a)(a),n=t.renderAmendmentsGroup,o=t.renderVoting,l=t.renderFeed,c=t.renderText,i=a.props.match.params.tab,s=kt.findIndex((function(e){return e===i}));-1===s&&(s=0);var u=[{menuItem:"Feed",render:function(){return r.createElement(Qe.a.Pane,null,l())}},{menuItem:"Text",render:function(){return r.createElement(Qe.a.Pane,null,c(e))}},{menuItem:"Amendments",render:function(){return r.createElement(Qe.a.Pane,null,n(e))}},{menuItem:"Voting",render:function(){return r.createElement(Qe.a.Pane,null,o(e))}}];return r.createElement(w.a,null,r.createElement(C.a,{columns:"equal",stackable:!0},r.createElement(C.a.Row,null,r.createElement(C.a.Column,null,a.renderHeader(e))),r.createElement(C.a.Row,null,r.createElement(C.a.Column,{width:11},r.createElement(Qe.a,{panes:u,onTabChange:a.onTabChange,activeIndex:s})),r.createElement(C.a.Column,{width:5},a.renderMeta(e)))))};var o=e.match;return a.state={committeeFref:d.database().ref("committees").child(o.params.committeeID),loading:!0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.state.committeeFref.on("value",this.firebaseCallback);var e=d.auth().onAuthStateChanged(this.authStateChangedCallback);this.setState({authUnsubscribe:e})}},{key:"componentWillUnmount",value:function(){this.state.committeeFref.off("value",this.firebaseCallback),this.state.authUnsubscribe&&this.state.authUnsubscribe()}},{key:"render",value:function(){var e=this.state,t=e.committee,a=e.loading,n=this.props.match.params.resolutionID,o=((t?t.resolutions:{})||{})[n];return a||o?this.renderResolution(o):r.createElement(w.a,{text:!0},r.createElement(Ie,{item:"resolution",id:n}))}}]),t}(r.Component),It=a(598),Pt=a(330),Tt=a(595),Rt=a(593),At=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).firebaseCallback=function(e){e&&a.setState({committee:e.val()})};var n=e.match;return a.state={committeeFref:p.a.database().ref("committees").child(n.params.committeeID)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.state.committeeFref.on("value",this.firebaseCallback)}},{key:"componentWillUnmount",value:function(){this.state.committeeFref.off("value",this.firebaseCallback)}},{key:"render",value:function(){var e=this.state,t=e.committee,a=e.committeeFref;return t?r.createElement(w.a,{text:!0,style:{padding:"1em 0em"}},r.createElement(y.a,null,r.createElement(E.a,{value:t?t.notes:"",onChange:ve(a,"notes"),autoHeight:!0,placeholder:"Notes"}))):r.createElement(st,null)}}]),t}(r.Component),Ft=r.createElement("a",{href:"https://github.com/vicbab/Muncoordinated-2/"},"v3.0.0 BETA (UNYC-CustomDev)"),Ut="https://api.github.com/repos/MaxwellBo/Muncoordinated-2/releases/latest",Nt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).fetchLatestVersion=function(){return a.setState({latestVersion:void 0}),fetch(Ut).then((function(e){return e.json()})).then((function(e){return a.setState({latestVersion:e.tag_name})}))},a.state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.fetchLatestVersion;e(),this.setState({timerId:setInterval(e,18e5)})}},{key:"componentWillUnmount",value:function(){var e=this.state.timerId;e&&clearInterval(e)}},{key:"render",value:function(){this.state.latestVersion,r.createElement("span",null,". New version available; refresh the page twice");return r.createElement("div",{style:{position:"fixed",bottom:5,left:5,background:"#FFFFFF"}},Ft," by ",r.createElement("a",{href:"https://github.com/vicbab"},"Victor B.")," & ",r.createElement("a",{href:"https://github.com/MaxwellBo"},"Max Bo"),!1)}}]),t}(r.PureComponent),zt=r.createElement(Ge.a,null,r.createElement(Ge.a.Item,null,r.createElement(j.a,{size:"mini"},"Alt"),r.createElement(j.a,{size:"mini"},"N"),"Next Speaker"),r.createElement(Ge.a.Item,null,r.createElement(j.a,{size:"mini"},"Alt"),r.createElement(j.a,{size:"mini"},"S"),"Toggle Speaker Timer"),r.createElement(Ge.a.Item,null,r.createElement(j.a,{size:"mini"},"Alt"),r.createElement(j.a,{size:"mini"},"C"),"Toggle Caucus Timer")),Lt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).gpl=r.createElement("a",{href:"https://github.com/MaxwellBo/Muncoordinated-2/blob/master/LICENSE"},"GNU AGPLv3"),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.gpl;return r.createElement(w.a,{text:!0,style:{padding:"1em 0em"}},r.createElement(Rt.a,{as:"h3",attached:"top"},"Keyboard Shortcuts"),r.createElement(v.a,{attached:"bottom"},zt),r.createElement(Rt.a,{as:"h3",attached:"top"},"Bug Reporting & Help Requests"),r.createElement(v.a,{attached:"bottom"},"In the event that a bug or issue crops up, follow these steps:",r.createElement("br",null),r.createElement(Ge.a,{ordered:!0},r.createElement(Ge.a.Item,null,"Create an issue on the ",r.createElement("a",{href:"https://github.com/MaxwellBo/Muncoordinated-2/issues"},"Muncoordinated issue tracking page"),". You can also use this for help requests regarding the apps usage"),r.createElement(Ge.a.Item,null,"Describe what you intended to do"),r.createElement(Ge.a.Item,null,"Describe what happened instead"),r.createElement(Ge.a.Item,null,"List the version of the app you're using (",Ft,")"),r.createElement(Ge.a.Item,null,"List the time, date, and browser that you were using when this occured")),r.createElement("br",null),"If you're at an Australian MUN, I'll see if I can push a fix within the hour."),r.createElement(Rt.a,{as:"h3",attached:"top"},"License"),r.createElement(v.a,{attached:"bottom"},"Muncoordinated is licensed under ",e))}}]),t}(r.PureComponent),qt=a(166);function Ht(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Bt,Vt,Gt,Wt=function(e,t){return d.database().ref("committees").child(e).child("timer").set(t)},Qt=function(e,t){return e.transaction((function(e){var a;return e?(a=e.remaining<=0?t:e.ticking?t:e.remaining+t,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ht(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ht(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},K,{remaining:a})):e}))},Kt=function(e,t,a){var n=d.database().ref("committees").child(e).child("caucuses").child(t).child("caucusTimer");return Qt(n,a)},Xt=function(e,t){var a=d.database().ref("committees").child(e).child("timer");return Qt(a,t)},_t=function(e,t){var a=d.database().ref("committees").child(e).child("strawpolls").push();return a.set(t),a};function Zt(e){var t=window.location.hostname,a=e.committeeID,n="".concat(t,"/committees/").concat(a);return r.createElement(r.Fragment,null,"Send ",r.createElement("a",{href:"/committees/".concat(a)},r.createElement("b",null,n))," to delegates so that they may:",r.createElement(Ge.a,{bulleted:!0},r.createElement(Ge.a.Item,null,"Upload files"),r.createElement(Ge.a.Item,null,"Add themselves to speaker's lists that have the 'Delegates can queue' flag enabled"),r.createElement(Ge.a.Item,null,"Add and edit amendments on resolutions that have the 'Delegates can amend' flag enabled"),r.createElement(Ge.a.Item,null,"Vote on strawpolls")))}!function(e){e.Preparing="preparing",e.Voting="voting",e.Results="results"}(Bt||(Bt={})),function(e){e.Checkbox="checkbox",e.Radio="radio"}(Vt||(Vt={})),function(e){e.Manual="manual",e.Link="link"}(Gt||(Gt={}));var Jt={question:"undefined question",stage:Bt.Preparing,type:Vt.Checkbox,medium:Gt.Link,options:{}};function Yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $t(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yt(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ea,ta=r.createElement(Me.a,{error:!0,content:"Speaker time does not evenly divide the caucus time"});!function(e){e.OpenUnmoderatedCaucus="Informal Session",e.OpenModeratedCaucus="Open Moderated Caucus",e.ExtendUnmoderatedCaucus="Extend Unmoderated Caucus",e.ExtendModeratedCaucus="Extend Moderated Caucus",e.CloseModeratedCaucus="Close Moderated Caucus",e.IntroduceDraftResolution="Introduce Draft Resolution",e.IntroduceAmendment="Introduce Amendment",e.SuspendDraftResolutionSpeakersList="Suspend Draft Resolution Speakers List",e.VoteOnResolution="Vote On Resolution",e.OpenDebate="Open Debate",e.SuspendDebate="Suspend Debate",e.ResumeDebate="Resume Debate",e.CloseDebate="Close Debate",e.ReorderDraftResolutions="Reorder Draft Resolutions",e.ProposeStrawpoll="Propose Strawpoll",e.AddToListRequest="Request to be added to the Speaker's list",e.GeneralNoteToDAIS="Note to DAIS"}(ea||(ea={}));var aa=function(e){switch(e){case ea.AddToListRequest:case ea.GeneralNoteToDAIS:case ea.ExtendUnmoderatedCaucus:return 1;case ea.ExtendModeratedCaucus:case ea.CloseModeratedCaucus:return 2;case ea.OpenUnmoderatedCaucus:return 4;case ea.OpenModeratedCaucus:return 5;case ea.ProposeStrawpoll:return 6;case ea.IntroduceDraftResolution:return 7;case ea.IntroduceAmendment:return 8;case ea.SuspendDraftResolutionSpeakersList:return 9;case ea.OpenDebate:case ea.SuspendDebate:case ea.ResumeDebate:case ea.CloseDebate:case ea.VoteOnResolution:return 10;case ea.ReorderDraftResolutions:return 11;default:return 69}},na=function(e){switch(e){case ea.ExtendUnmoderatedCaucus:case ea.ExtendModeratedCaucus:return"Extend";case ea.CloseModeratedCaucus:case ea.CloseDebate:return"Close";case ea.OpenUnmoderatedCaucus:case ea.OpenDebate:case ea.OpenModeratedCaucus:return"Open";case ea.IntroduceDraftResolution:case ea.IntroduceAmendment:return"Introduce";case ea.SuspendDraftResolutionSpeakersList:case ea.SuspendDebate:return"Suspend";case ea.ResumeDebate:return"Resume";case ea.ReorderDraftResolutions:return"Reorder";case ea.ProposeStrawpoll:return"Create";case ea.VoteOnResolution:return"Vote";default:return"Enact"}},ra=function(e){switch(e){case ea.OpenModeratedCaucus:case ea.OpenUnmoderatedCaucus:case ea.IntroduceDraftResolution:case ea.ExtendUnmoderatedCaucus:case ea.ExtendModeratedCaucus:case ea.CloseModeratedCaucus:case ea.IntroduceAmendment:case ea.ProposeStrawpoll:case ea.VoteOnResolution:return!0;default:return!1}},oa=function(e){switch(e){case ea.OpenModeratedCaucus:return!0;default:return!1}},la=function(e){switch(e){case ea.IntroduceDraftResolution:return!0;default:return!1}},ca=function(e){switch(e){case ea.OpenModeratedCaucus:case ea.IntroduceDraftResolution:case ea.IntroduceAmendment:case ea.GeneralNoteToDAIS:case ea.ProposeStrawpoll:return!0;default:return!1}},ia=function(e){switch(e){case ea.IntroduceAmendment:case ea.GeneralNoteToDAIS:return!0;default:return!1}},sa=function(e){switch(e){case ea.OpenModeratedCaucus:return"Topic";case ea.IntroduceDraftResolution:return"Name";case ea.IntroduceAmendment:case ea.GeneralNoteToDAIS:return"Text";case ea.ProposeStrawpoll:return"Question";default:return""}},ua=function(e){return!1},ma=function(e,t){switch(e){case ea.ExtendUnmoderatedCaucus:return"Extend unmoderated caucus by ".concat(t);case ea.ExtendModeratedCaucus:return"Extend moderated caucus by ".concat(t);case ea.OpenModeratedCaucus:return"".concat(t," Moderated Caucus");case ea.OpenUnmoderatedCaucus:return"".concat(t," Unmoderated Caucus");default:return e.toString()}},da=function(e){switch(e){case ea.ExtendModeratedCaucus:case ea.CloseModeratedCaucus:return!0;default:return!1}},pa=function(e){switch(e){case ea.IntroduceAmendment:case ea.SuspendDraftResolutionSpeakersList:case ea.VoteOnResolution:return!0;default:return!1}},fa=[ea.AddToListRequest,ea.GeneralNoteToDAIS].map(z),ha={proposal:"",speakerDuration:60,speakerUnit:q.Seconds,caucusDuration:10,caucusUnit:q.Minutes,type:ea.OpenUnmoderatedCaucus},ga=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).firebaseCallback=function(e){e&&a.setState({committee:e.val()})},a.handlePushMotion=function(){var e=a.state.newMotion;a.state.committeeFref.child("motions").push().set(e);var t="min"===e.caucusUnit?(e.caucusDuration||0)+1:e.caucusDuration;a.setState((function(e){var a=$t({},e.newMotion,{caucusDuration:t,proposal:""});a.proposer,a.seconder;return{newMotion:Object(qt.a)(a,["proposer","seconder"])}})),alert("The DAIS has received your request. Sending another request of the same type will erase your first one.")},a.handleClearMotions=function(){var e=a.state.committee,t=a.state.committeeFref,n=e&&e.motions||{};Object.keys(n).forEach((function(e){t.child("motions").child(e).child("deleted").set(!0)}))},a.handleClearAdder=function(){a.setState({newMotion:ha})},a.handleApproveMotion=function(e,t){var n=a.props.match.params.committeeID,r=a.state.committee,o=t.proposer,l=t.speakerDuration,c=t.speakerUnit,i=t.caucusDuration,s=t.caucusUnit,u=t.seconder,m=t.proposal,d=t.caucusTarget,p=t.resolutionTarget;if(e.child("deleted").set(!0),t.type===ea.OpenModeratedCaucus&&l&&i&&o){var f=B(l,c),h=B(i,s),g=$t({},Le,{name:m,speakerTimer:$t({},Le.speakerTimer,{remaining:f}),caucusTimer:$t({},Le.caucusTimer,{remaining:h}),speaking:{who:o,stance:te.For,duration:f},speakerDuration:l,speakerUnit:c}),v=ae(n,g);a.props.history.push("/committees/".concat(n,"/caucuses/").concat(v.key))}else if(t.type===ea.OpenUnmoderatedCaucus&&i){a.props.history.push("/committees/".concat(n,"/unmod"));var b=B(i,s),y=$t({},pn.timer,{remaining:b});Wt(n,y)}else if(t.type===ea.IntroduceDraftResolution&&o&&u){var E=$t({},Dt,{name:m,proposer:o,seconder:u}),k=rt(n,E);a.props.history.push("/committees/".concat(n,"/resolutions/").concat(k.key))}else if(t.type===ea.ExtendUnmoderatedCaucus&&i){a.props.history.push("/committees/".concat(n,"/unmod"));var O=B(i,s);Xt(n,O)}else if(t.type===ea.ExtendModeratedCaucus&&i&&d&&o&&r){a.props.history.push("/committees/".concat(n,"/caucuses/").concat(d));var C=B(i,s);Kt(n,d,C);var w=r.caucuses[d],j=w.speakerDuration&&w.speakerUnit?B(w.speakerDuration,w.speakerUnit):Ae;ne(n,d,{who:o,stance:te.For,duration:j})}else if(t.type===ea.CloseModeratedCaucus&&d)a.props.history.push("/committees/".concat(n,"/caucuses/").concat(d)),re(n,d);else if(t.type===ea.IntroduceAmendment&&p&&o){a.props.history.push("/committees/".concat(n,"/resolutions/").concat(p));var x=$t({},Be,{text:m,proposer:o});nt(n,p,x)}else if(t.type===ea.VoteOnResolution&&p)a.props.history.push("/committees/".concat(n,"/resolutions/").concat(p,"/voting"));else if(t.type===ea.ProposeStrawpoll){var S=_t(n,$t({},Jt,{question:m}));a.props.history.push("/committees/".concat(n,"/strawpolls/").concat(S.key))}},a.renderMotion=function(e,t,n){var o=Object(h.a)(a).handleApproveMotion,l=a.state.committee,c=t.proposer,i=t.proposal,s=t.type,u=t.caucusUnit,m=t.caucusDuration,d=t.speakerUnit,p=t.speakerDuration,f=t.seconder,g=t.caucusTarget,v=t.resolutionTarget,b=mn(l,g||""),y=b?b.name:g,E=dn(l,v||""),O=E?E.name:v,C=r.createElement(Ve.a.Description,null,r.createElement(k.a,{horizontal:!0},sa(s)),i),w=r.createElement("div",null,r.createElement(k.a,{horizontal:!0},"Proposer"),r.createElement(J.a,{name:T(c||"")})," ",c),x=r.createElement("div",null,r.createElement(k.a,{horizontal:!0},"Seconder"),r.createElement(J.a,{name:T(f||"")})," ",f),S=r.createElement("div",null,r.createElement(k.a,{horizontal:!0},"Target Caucus"),y),D=r.createElement("div",null,r.createElement(k.a,{horizontal:!0},"Target Resolution"),O),M=ua(s)?oa(s)?"".concat(m||0," ").concat(u," / ").concat(p||0," ").concat(d," "):"".concat(m||0," ").concat(u," "):"";return r.createElement(Ve.a,{className:"motion",key:e},r.createElement(Ve.a.Content,null,r.createElement(Ve.a.Header,null,ma(s,M)),r.createElement(Ve.a.Meta,null,w,la(s)&&x,da(s)&&S,pa(s)&&D),ca(s)&&C),r.createElement(j.a.Group,{fluid:!0,attached:"bottom"},r.createElement(j.a,{basic:!0,negative:!0,onClick:function(){return n.child("deleted").set(!0)}},"Delete"),ra(s)&&r.createElement(j.a,{disabled:""===t.proposer,basic:!0,positive:!0,onClick:function(){return o(n,t)}},na(s))))},a.hasDivisiblityError=function(){var e=a.state.newMotion,t=e.type,n=e.caucusDuration,r=e.caucusUnit,o=e.speakerDuration,l=e.speakerUnit,c=B(n||0,r)%B(o||0,l)!==0;return oa(t)&&ua(t)&&c},a.hasIdenticalProposerSeconder=function(){var e=a.state.newMotion,t=e.proposer,n=e.seconder;return!(!t||!n)&&t===n},a.renderAdder=function(e){var t=a.state.newMotion,n=t.proposer,o=t.proposal,l=t.type,c=t.caucusUnit,i=t.caucusDuration,s=t.speakerUnit,u=t.speakerDuration,m=t.seconder,d=t.caucusTarget,p=t.resolutionTarget,f=r.createElement(y.a.TextArea,{value:o,autoHeight:!0,onChange:be(Object(h.a)(a),"newMotion","proposal"),rows:2,label:sa(t.type),placeholder:sa(t.type)}),g=r.createElement(y.a.Input,{label:"Name",placeholder:"Name",value:o,onChange:he(Object(h.a)(a),"newMotion","proposal"),fluid:!0}),v=r.createElement(y.a.Group,{widths:"equal"},ia(t.type)?f:g),b=r.createElement(G,{error:a.hasDivisiblityError(),unitValue:s,durationValue:u?u.toString():void 0,onUnitChange:Ee(Object(h.a)(a),"newMotion","speakerUnit"),onDurationChange:ge(Object(h.a)(a),"newMotion","speakerDuration"),label:"Speaking Time"}),E=r.createElement(G,{error:a.hasDivisiblityError(),unitValue:c,durationValue:i?i.toString():void 0,onUnitChange:Ee(Object(h.a)(a),"newMotion","caucusUnit"),onDurationChange:ge(Object(h.a)(a),"newMotion","caucusDuration"),label:"Duration"}),k=a.state.committee||{caucuses:{},resolutions:{}},O=k.caucuses,C=k.resolutions,w=Object.keys(O||{}).filter((function(e){return O[e].status===Re.Open.toString()})).map((function(e){return{key:e,value:e,text:O[e].name}})),x=Object.keys(C||{}).map((function(e){return{key:e,value:e,text:C[e].name}})),S=r.createElement(y.a.Dropdown,{key:"caucusTarget",value:d,search:!0,selection:!0,fluid:!0,error:!d,loading:!e,onChange:Ee(Object(h.a)(a),"newMotion","caucusTarget"),options:w,icon:"search",label:"Target Caucus"}),D=r.createElement(y.a.Dropdown,{key:"resolutionTarget",value:p,search:!0,selection:!0,fluid:!0,error:!p,loading:!e,onChange:Ee(Object(h.a)(a),"newMotion","resolutionTarget"),options:x,icon:"search",label:"Target Resolution"}),M=r.createElement(y.a.Group,{widths:"equal"},da(l)&&S,pa(l)&&D,ua(l)&&E,oa(l)&&b),I=cn(a.state.committee),P=r.createElement(y.a.Dropdown,{icon:"search",key:"proposer",value:n?R(n).key:void 0,search:!0,error:!n||a.hasIdenticalProposerSeconder(),loading:!e,selection:!0,fluid:!0,onChange:Ce(Object(h.a)(a),"newMotion","proposer",I),options:I,label:"Proposer"}),T=r.createElement(y.a.Dropdown,{icon:"search",key:"seconder",error:!m||a.hasIdenticalProposerSeconder(),value:m?R(m).key:void 0,loading:!e,search:!0,selection:!0,fluid:!0,onChange:Ce(Object(h.a)(a),"newMotion","seconder",I),options:I,label:"Seconder"}),A=a.hasDivisiblityError()||a.hasIdenticalProposerSeconder();return r.createElement(y.a,{error:A},r.createElement(y.a.Dropdown,{placeholder:"Select type",search:!0,selection:!0,fluid:!0,label:"Type",icon:"search",options:fa,onChange:Ee(Object(h.a)(a),"newMotion","type"),value:l}),ca(l)&&v,r.createElement(y.a.Group,{widths:"equal"},P,la(l)&&T),(oa(l)||ua(l)||da(l)||pa(l))&&M,a.hasDivisiblityError()&&ta,a.hasIdenticalProposerSeconder()&&Ot,r.createElement(j.a,{icon:"plus",basic:!0,primary:!0,fluids:!0,disabled:!n||!U(la(l),!!m)||!U(da(l),!!d)||!U(pa(l),!!p)||A,onClick:a.handlePushMotion}))},a.renderMotions=function(e){var t=Object(h.a)(a).renderMotion,n=a.state.committeeFref;return Object.keys(e).filter((function(t){return!e[t].deleted})).sort((function(t,a){var n=e[t],r=e[a],o=aa(n.type),l=aa(r.type);if(o<l)return-1;if(o===l){var c=(n.caucusDuration||0)*(n.caucusUnit===q.Minutes?60:1),i=(r.caucusDuration||0)*(r.caucusUnit===q.Minutes?60:1);return c<i?1:c===i?0:-1}return 1})).map((function(a){return t(a,e[a],n.child("motions").child(a))}))};var n=e.match;return a.state={committeeFref:p.a.database().ref("committees").child(n.params.committeeID),newMotion:ha},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.state.committeeFref.on("value",this.firebaseCallback)}},{key:"componentWillUnmount",value:function(){this.state.committeeFref.off("value",this.firebaseCallback)}},{key:"render",value:function(){var e=this.renderMotions,t=this.renderAdder,a=this.state.committee;$e(this.state.committee).operative,a&&e(a.motions||{});return r.createElement(w.a,{text:!0,style:{padding:"1em 0em"}},t(a),r.createElement(D.a,null),"The DAIS receives all requests. ",r.createElement("br",null),"Please only submit a maximum of one request per type at a time.")}}]),t}(r.Component);function va(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ba(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?va(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):va(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ya,Ea=r.createElement(Me.a,{error:!0,content:"Speaker time does not evenly divide the caucus time"});!function(e){e.OpenUnmoderatedCaucus="Informal Session",e.OpenModeratedCaucus="Open Moderated Caucus",e.ExtendUnmoderatedCaucus="Extend Unmoderated Caucus",e.ExtendModeratedCaucus="Extend Moderated Caucus",e.CloseModeratedCaucus="Close Moderated Caucus",e.IntroduceDraftResolution="Introduce Draft Resolution",e.IntroduceAmendment="Introduce Amendment",e.SuspendDraftResolutionSpeakersList="Suspend Draft Resolution Speakers List",e.VoteOnResolution="Vote On Resolution",e.OpenDebate="Open Debate",e.SuspendDebate="Suspend Debate",e.ResumeDebate="Resume Debate",e.CloseDebate="Close Debate",e.ReorderDraftResolutions="Reorder Draft Resolutions",e.ProposeStrawpoll="Propose Strawpoll",e.AddToListRequest="Request to be added to the Speaker's list",e.GeneralNoteToDAIS="Note to DAIS"}(ya||(ya={}));var ka,Oa=function(e){switch(e){case ya.AddToListRequest:case ya.GeneralNoteToDAIS:case ya.ExtendUnmoderatedCaucus:return 1;case ya.ExtendModeratedCaucus:case ya.CloseModeratedCaucus:return 2;case ya.OpenUnmoderatedCaucus:return 4;case ya.OpenModeratedCaucus:return 5;case ya.ProposeStrawpoll:return 6;case ya.IntroduceDraftResolution:return 7;case ya.IntroduceAmendment:return 8;case ya.SuspendDraftResolutionSpeakersList:return 9;case ya.OpenDebate:case ya.SuspendDebate:case ya.ResumeDebate:case ya.CloseDebate:case ya.VoteOnResolution:return 10;case ya.ReorderDraftResolutions:return 11;default:return 69}},Ca=function(e){switch(e){case ya.ExtendUnmoderatedCaucus:case ya.ExtendModeratedCaucus:return"Extend";case ya.CloseModeratedCaucus:case ya.CloseDebate:return"Close";case ya.OpenUnmoderatedCaucus:case ya.OpenDebate:case ya.OpenModeratedCaucus:return"Open";case ya.IntroduceDraftResolution:case ya.IntroduceAmendment:return"Introduce";case ya.SuspendDraftResolutionSpeakersList:case ya.SuspendDebate:return"Suspend";case ya.ResumeDebate:return"Resume";case ya.ReorderDraftResolutions:return"Reorder";case ya.ProposeStrawpoll:return"Create";case ya.VoteOnResolution:return"Vote";default:return"Enact"}},wa=function(e){switch(e){case ya.OpenModeratedCaucus:case ya.OpenUnmoderatedCaucus:case ya.IntroduceDraftResolution:case ya.ExtendUnmoderatedCaucus:case ya.ExtendModeratedCaucus:case ya.CloseModeratedCaucus:case ya.IntroduceAmendment:case ya.ProposeStrawpoll:case ya.VoteOnResolution:return!0;default:return!1}},ja=function(e){switch(e){case ya.OpenModeratedCaucus:return!0;default:return!1}},xa=function(e){switch(e){case ya.IntroduceDraftResolution:return!0;default:return!1}},Sa=function(e){switch(e){case ya.OpenModeratedCaucus:case ya.IntroduceDraftResolution:case ya.IntroduceAmendment:case ya.GeneralNoteToDAIS:case ya.ProposeStrawpoll:return!0;default:return!1}},Da=function(e){switch(e){case ya.IntroduceAmendment:case ya.GeneralNoteToDAIS:return!0;default:return!1}},Ma=function(e){switch(e){case ya.OpenModeratedCaucus:return"Topic";case ya.IntroduceDraftResolution:return"Name";case ya.IntroduceAmendment:case ya.GeneralNoteToDAIS:return"Text";case ya.ProposeStrawpoll:return"Question";default:return""}},Ia=function(e){switch(e){case ya.ExtendUnmoderatedCaucus:case ya.ExtendModeratedCaucus:case ya.OpenModeratedCaucus:case ya.OpenUnmoderatedCaucus:return!0;default:return!1}},Pa=function(e,t){switch(e){case ya.ExtendUnmoderatedCaucus:return"Extend unmoderated caucus by ".concat(t);case ya.ExtendModeratedCaucus:return"Extend moderated caucus by ".concat(t);case ya.OpenModeratedCaucus:return"".concat(t," Moderated Caucus");case ya.OpenUnmoderatedCaucus:return"".concat(t," Unmoderated Caucus");default:return e.toString()}},Ta=function(e){switch(e){case ya.ExtendModeratedCaucus:case ya.CloseModeratedCaucus:return!0;default:return!1}},Ra=function(e){switch(e){case ya.IntroduceAmendment:case ya.SuspendDraftResolutionSpeakersList:case ya.VoteOnResolution:return!0;default:return!1}},Aa=[ya.AddToListRequest,ya.GeneralNoteToDAIS].map(z),Fa={proposal:"",speakerDuration:60,speakerUnit:q.Seconds,caucusDuration:10,caucusUnit:q.Minutes,type:ya.OpenUnmoderatedCaucus},Ua=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).firebaseCallback=function(e){e&&a.setState({committee:e.val()})},a.handlePushMotion=function(){var e=a.state.newMotion;a.state.committeeFref.child("motions").push().set(e);var t="min"===e.caucusUnit?(e.caucusDuration||0)+1:e.caucusDuration;a.setState((function(e){var a=ba({},e.newMotion,{caucusDuration:t,proposal:""});a.proposer,a.seconder;return{newMotion:Object(qt.a)(a,["proposer","seconder"])}}))},a.handleClearMotions=function(){var e=a.state.committee,t=a.state.committeeFref,n=e&&e.motions||{};Object.keys(n).forEach((function(e){t.child("motions").child(e).child("deleted").set(!0)}))},a.handleClearAdder=function(){a.setState({newMotion:Fa})},a.handleApproveMotion=function(e,t){var n=a.props.match.params.committeeID,r=a.state.committee,o=t.proposer,l=t.speakerDuration,c=t.speakerUnit,i=t.caucusDuration,s=t.caucusUnit,u=t.seconder,m=t.proposal,d=t.caucusTarget,p=t.resolutionTarget;if(e.child("deleted").set(!0),t.type===ya.OpenModeratedCaucus&&l&&i&&o){var f=B(l,c),h=B(i,s),g=ba({},Le,{name:m,speakerTimer:ba({},Le.speakerTimer,{remaining:f}),caucusTimer:ba({},Le.caucusTimer,{remaining:h}),speaking:{who:o,stance:te.For,duration:f},speakerDuration:l,speakerUnit:c}),v=ae(n,g);a.props.history.push("/committees/".concat(n,"/caucuses/").concat(v.key))}else if(t.type===ya.OpenUnmoderatedCaucus&&i){a.props.history.push("/committees/".concat(n,"/unmod"));var b=B(i,s),y=ba({},pn.timer,{remaining:b});Wt(n,y)}else if(t.type===ya.IntroduceDraftResolution&&o&&u){var E=ba({},Dt,{name:m,proposer:o,seconder:u}),k=rt(n,E);a.props.history.push("/committees/".concat(n,"/resolutions/").concat(k.key))}else if(t.type===ya.ExtendUnmoderatedCaucus&&i){a.props.history.push("/committees/".concat(n,"/unmod"));var O=B(i,s);Xt(n,O)}else if(t.type===ya.ExtendModeratedCaucus&&i&&d&&o&&r){a.props.history.push("/committees/".concat(n,"/caucuses/").concat(d));var C=B(i,s);Kt(n,d,C);var w=r.caucuses[d],j=w.speakerDuration&&w.speakerUnit?B(w.speakerDuration,w.speakerUnit):Ae;ne(n,d,{who:o,stance:te.For,duration:j})}else if(t.type===ya.CloseModeratedCaucus&&d)a.props.history.push("/committees/".concat(n,"/caucuses/").concat(d)),re(n,d);else if(t.type===ya.IntroduceAmendment&&p&&o){a.props.history.push("/committees/".concat(n,"/resolutions/").concat(p));var x=ba({},Be,{text:m,proposer:o});nt(n,p,x)}else if(t.type===ya.VoteOnResolution&&p)a.props.history.push("/committees/".concat(n,"/resolutions/").concat(p,"/voting"));else if(t.type===ya.ProposeStrawpoll){var S=_t(n,ba({},Jt,{question:m}));a.props.history.push("/committees/".concat(n,"/strawpolls/").concat(S.key))}},a.renderMotion=function(e,t,n){var o=Object(h.a)(a).handleApproveMotion,l=a.state.committee,c=t.proposer,i=t.proposal,s=t.type,u=t.caucusUnit,m=t.caucusDuration,d=t.speakerUnit,p=t.speakerDuration,f=t.seconder,g=t.caucusTarget,v=t.resolutionTarget,b=mn(l,g||""),y=b?b.name:g,E=dn(l,v||""),O=E?E.name:v,C=r.createElement(Ve.a.Description,null,r.createElement(k.a,{horizontal:!0},Ma(s)),i),w=r.createElement("div",null,r.createElement(k.a,{horizontal:!0},"Proposer"),r.createElement(J.a,{name:T(c||"")})," ",c),x=r.createElement("div",null,r.createElement(k.a,{horizontal:!0},"Seconder"),r.createElement(J.a,{name:T(f||"")})," ",f),S=r.createElement("div",null,r.createElement(k.a,{horizontal:!0},"Target Caucus"),y),D=r.createElement("div",null,r.createElement(k.a,{horizontal:!0},"Target Resolution"),O),M=Ia(s)?ja(s)?"".concat(m||0," ").concat(u," / ").concat(p||0," ").concat(d," "):"".concat(m||0," ").concat(u," "):"";return r.createElement(Ve.a,{className:"motion",key:e},r.createElement(Ve.a.Content,null,r.createElement(Ve.a.Header,null,Pa(s,M)),r.createElement(Ve.a.Meta,null,w,xa(s)&&x,Ta(s)&&S,Ra(s)&&D),Sa(s)&&C),r.createElement(j.a.Group,{fluid:!0,attached:"bottom"},r.createElement(j.a,{basic:!0,negative:!0,onClick:function(){return n.child("deleted").set(!0)}},"Delete"),wa(s)&&r.createElement(j.a,{disabled:""===t.proposer,basic:!0,positive:!0,onClick:function(){return o(n,t)}},Ca(s))))},a.hasDivisiblityError=function(){var e=a.state.newMotion,t=e.type,n=e.caucusDuration,r=e.caucusUnit,o=e.speakerDuration,l=e.speakerUnit,c=B(n||0,r)%B(o||0,l)!==0;return ja(t)&&Ia(t)&&c},a.hasIdenticalProposerSeconder=function(){var e=a.state.newMotion,t=e.proposer,n=e.seconder;return!(!t||!n)&&t===n},a.renderAdder=function(e){var t=a.state.newMotion,n=t.proposer,o=t.proposal,l=t.type,c=t.caucusUnit,i=t.caucusDuration,s=t.speakerUnit,u=t.speakerDuration,m=t.seconder,d=t.caucusTarget,p=t.resolutionTarget,f=r.createElement(y.a.TextArea,{value:o,autoHeight:!0,onChange:be(Object(h.a)(a),"newMotion","proposal"),rows:2,label:Ma(t.type),placeholder:Ma(t.type)}),g=r.createElement(y.a.Input,{label:"Name",placeholder:"Name",value:o,onChange:he(Object(h.a)(a),"newMotion","proposal"),fluid:!0}),v=r.createElement(y.a.Group,{widths:"equal"},Da(t.type)?f:g),b=r.createElement(G,{error:a.hasDivisiblityError(),unitValue:s,durationValue:u?u.toString():void 0,onUnitChange:Ee(Object(h.a)(a),"newMotion","speakerUnit"),onDurationChange:ge(Object(h.a)(a),"newMotion","speakerDuration"),label:"Speaking Time"}),E=r.createElement(G,{error:a.hasDivisiblityError(),unitValue:c,durationValue:i?i.toString():void 0,onUnitChange:Ee(Object(h.a)(a),"newMotion","caucusUnit"),onDurationChange:ge(Object(h.a)(a),"newMotion","caucusDuration"),label:"Duration"}),k=a.state.committee||{caucuses:{},resolutions:{}},O=k.caucuses,C=k.resolutions,w=Object.keys(O||{}).filter((function(e){return O[e].status===Re.Open.toString()})).map((function(e){return{key:e,value:e,text:O[e].name}})),x=Object.keys(C||{}).map((function(e){return{key:e,value:e,text:C[e].name}})),S=r.createElement(y.a.Dropdown,{key:"caucusTarget",value:d,search:!0,selection:!0,fluid:!0,error:!d,loading:!e,onChange:Ee(Object(h.a)(a),"newMotion","caucusTarget"),options:w,icon:"search",label:"Target Caucus"}),D=r.createElement(y.a.Dropdown,{key:"resolutionTarget",value:p,search:!0,selection:!0,fluid:!0,error:!p,loading:!e,onChange:Ee(Object(h.a)(a),"newMotion","resolutionTarget"),options:x,icon:"search",label:"Target Resolution"}),M=r.createElement(y.a.Group,{widths:"equal"},Ta(l)&&S,Ra(l)&&D,Ia(l)&&E,ja(l)&&b),I=cn(a.state.committee),P=r.createElement(y.a.Dropdown,{icon:"search",key:"proposer",value:n?R(n).key:void 0,search:!0,error:!n||a.hasIdenticalProposerSeconder(),loading:!e,selection:!0,fluid:!0,onChange:Ce(Object(h.a)(a),"newMotion","proposer",I),options:I,label:"Proposer"}),T=r.createElement(y.a.Dropdown,{icon:"search",key:"seconder",error:!m||a.hasIdenticalProposerSeconder(),value:m?R(m).key:void 0,loading:!e,search:!0,selection:!0,fluid:!0,onChange:Ce(Object(h.a)(a),"newMotion","seconder",I),options:I,label:"Seconder"}),A=a.hasDivisiblityError()||a.hasIdenticalProposerSeconder();return r.createElement(y.a,{error:A},r.createElement(y.a.Dropdown,{placeholder:"Select type",search:!0,selection:!0,fluid:!0,label:"Type",icon:"search",options:Aa,onChange:Ee(Object(h.a)(a),"newMotion","type"),value:l}),Sa(l)&&v,r.createElement(y.a.Group,{widths:"equal"},P,xa(l)&&T),(ja(l)||Ia(l)||Ta(l)||Ra(l))&&M,a.hasDivisiblityError()&&Ea,a.hasIdenticalProposerSeconder()&&Ot,r.createElement(j.a,{icon:"plus",basic:!0,primary:!0,fluids:!0,disabled:!n||!U(xa(l),!!m)||!U(Ta(l),!!d)||!U(Ra(l),!!p)||A,onClick:a.handlePushMotion}))},a.renderMotions=function(e){var t=Object(h.a)(a).renderMotion,n=a.state.committeeFref;return Object.keys(e).filter((function(t){return!e[t].deleted})).sort((function(t,a){var n=e[t],r=e[a],o=Oa(n.type),l=Oa(r.type);if(o<l)return-1;if(o===l){var c=(n.caucusDuration||0)*(n.caucusUnit===q.Minutes?60:1),i=(r.caucusDuration||0)*(r.caucusUnit===q.Minutes?60:1);return c<i?1:c===i?0:-1}return 1})).map((function(a){return t(a,e[a],n.child("motions").child(a))}))};var n=e.match;return a.state={committeeFref:p.a.database().ref("committees").child(n.params.committeeID),newMotion:Fa},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.state.committeeFref.on("value",this.firebaseCallback)}},{key:"componentWillUnmount",value:function(){this.state.committeeFref.off("value",this.firebaseCallback)}},{key:"render",value:function(){var e=this.renderMotions,t=this.renderAdder,a=this.state.committee,n=($e(this.state.committee).operative,a?e(a.motions||{}):[]);return r.createElement(w.a,{text:!0,style:{padding:"1em 0em"}},t(a),r.createElement(D.a,null),r.createElement(D.a,null),r.createElement(Ve.a.Group,{itemsPerRow:1},n))}}]),t}(r.Component),Na={moveQueueUp:!1,timersInSeparateColumns:!1,autoNextSpeaker:!1},za=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).firebaseCallback=function(e){e&&a.setState({committee:e.val()})},a.renderSetting=function(e,t){var n=a.state,o=n.committee,l=n.committeeFref.child("settings"),c=o?o.settings[e]:Na[e];return r.createElement(_e.a,{slider:!0,indeterminate:void 0===c,checked:c||!1,onChange:ke(l,e),label:t})};var n=e.match;return a.state={committeeFref:d.database().ref("committees").child(n.params.committeeID)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.state.committeeFref.on("value",this.firebaseCallback)}},{key:"componentWillUnmount",value:function(){this.state.committeeFref.off("value",this.firebaseCallback)}},{key:"render",value:function(){var e=this.renderSetting,t=this.state.committee;return r.createElement(w.a,{text:!0,style:{padding:"1em 0em"}},r.createElement(Rt.a,{as:"h3",attached:"top"},"Settings"),r.createElement(v.a,{attached:"bottom",loading:!t},e("moveQueueUp","'Queue' should appear above 'Next Speaking'"),e("timersInSeparateColumns","Alternate arrangement with 'Speaker Timer' and 'Caucus Timer' in separate columns")))}}]),t}(r.Component),La=a(583);!function(e){e.Login="Login",e.ForgotPassword="ForgotPassword"}(ka||(ka={}));var qa=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).authStateChangedCallback=function(e){a.setState({loggingIn:!1,creating:!1,user:e}),e&&p.a.database().ref("committees").orderByChild("creatorUid").equalTo(e.uid).once("value").then((function(e){a.setState({committees:e.val()||{}})}))},a.handleLogout=function(){p.a.auth().signOut().catch((function(e){a.setState({error:e})}))},a.handleLogin=function(){var e=a.state,t=e.email,n=e.password;a.setState({loggingIn:!0}),p.a.auth().signInWithEmailAndPassword(t,n).then((function(){a.setState({loggingIn:!1})})).catch((function(e){a.setState({loggingIn:!1,error:e})}))},a.handleCreate=function(){var e=a.state,t=e.email,n=e.password;a.setState({creating:!0}),p.a.auth().createUserWithEmailAndPassword(t,n).then((function(){a.setState({creating:!1,success:{name:"Account created",message:"Your account was successfully created"}})})).catch((function(e){a.setState({creating:!1,error:e})}))},a.handlePasswordReset=function(){var e=a.state.email;a.setState({resetting:!0}),p.a.auth().sendPasswordResetEmail(e).then((function(){var t={name:"Password reset",message:"Check your inbox at ".concat(e," for further instructions")};a.setState({resetting:!1,success:t})})).catch((function(e){a.setState({resetting:!1,error:e})}))},a.handleDismissError=function(){a.setState({error:void 0})},a.handleDismissSuccess=function(){a.setState({success:void 0})},a.handleForgotPassword=function(){a.setState({mode:ka.ForgotPassword})},a.handleResetPasswordCancel=function(){a.setState({mode:ka.Login})},a.setEmail=function(e){return a.setState({email:e.currentTarget.value})},a.setPassword=function(e){return a.setState({password:e.currentTarget.value})},a.renderCommittees=function(){var e=Object(h.a)(a).renderCommittee,t=a.state.committees||{},n=F.a.keys(t);return r.createElement(Ge.a,{relaxed:!0},n.map((function(a){return e(a,t[a])})))},a.renderCommittee=function(e,t){var a="/committees/".concat(e);return r.createElement(Ge.a.Item,{key:e},r.createElement(Ge.a.Content,null,r.createElement(Ge.a.Header,{as:"a",href:a},t.name),r.createElement(Ge.a.Description,null,t.topic)))},a.renderError=function(){var e=Object(h.a)(a).handleDismissError,t=a.state.error;return r.createElement(Me.a,{key:"error",error:!0,onDismiss:e},r.createElement(Me.a.Header,null,t?t.name:""),r.createElement(Me.a.Content,null,t?t.message:""))},a.renderSuccess=function(){var e=Object(h.a)(a).handleDismissSuccess,t=a.state.success;return r.createElement(Me.a,{key:"success",success:!0,onDismiss:e},r.createElement(Me.a.Header,null,t?t.name:""),r.createElement(Me.a.Content,null,t?t.message:""))},a.renderNotice=function(){return r.createElement(Me.a,{attached:"top",info:!0,list:["Login to access your previously created committees, or to create a new committee","Multiple directors may use the same account concurrently from different computers - use a password you're willing to share"]})},a.renderLoggedIn=function(e){var t=Object(h.a)(a),n=t.handleLogout,o=t.renderCommittees,l=(t.renderSuccess,a.state.committees),c=a.props.allowNewCommittee;return r.createElement(Ve.a,{centered:!0},r.createElement(Ve.a.Content,{key:"main"},r.createElement(Ve.a.Header,null,e.email),r.createElement(Ve.a.Meta,null,"Logged in")),r.createElement(Ve.a.Content,{key:"committees"},l?o():r.createElement(st,null),c&&r.createElement(Ge.a.Item,{key:"add"},r.createElement(Ge.a.Content,null,r.createElement(Ge.a.Header,{as:"a",href:"/onboard"},r.createElement(x.a,{name:"plus"}),"Create new committee")))),r.createElement(Ve.a.Content,{extra:!0,key:"extra"},r.createElement(j.a,{basic:!0,color:"red",fluid:!0,onClick:n},"Logout")))},a.renderLogin=function(){var e=Object(h.a)(a),t=e.setEmail,n=e.setPassword,o=e.handleCreate,l=e.handleLogin,c=e.handlePasswordReset,i=e.handleForgotPassword,s=e.handleResetPasswordCancel,u=a.state,m=u.loggingIn,d=u.creating,p=u.user,f=u.resetting,g=u.email,b=u.password,E=u.mode,k=a.props.allowSignup,O=r.createElement(j.a,{onClick:o,loading:d},"Create Account"),C=r.createElement(j.a,{onClick:s},"Cancel"),w=r.createElement("input",{autoComplete:"email"}),x=r.createElement("input",{autoComplete:"current-password"}),S=a.state.error,D=a.state.success;return r.createElement(v.a,{attached:"bottom"},r.createElement(y.a,{error:!!S,success:!!D,loading:void 0===p},r.createElement(y.a.Input,{key:"email",label:"Email",placeholder:"joe@schmoe.com",value:g,onChange:t},w),E===ka.Login&&r.createElement(y.a.Input,{key:"password",label:"Password",type:"password",placeholder:"Enter your password",value:b,onChange:n},x),a.renderSuccess(),a.renderError(),r.createElement(j.a.Group,{fluid:!0},E===ka.Login&&r.createElement(j.a,{primary:!0,onClick:l,loading:m},"Login"),E===ka.ForgotPassword&&r.createElement(j.a,{primary:!0,onClick:c,loading:f,disabled:!g},"Reset Password"),k&&E===ka.Login&&r.createElement(j.a.Or,null),k&&E===ka.Login&&O,E===ka.ForgotPassword&&C),E===ka.Login&&r.createElement("a",{onClick:i,style:{cursor:"pointer"}},"Forgot password?")))},a.state={email:"",password:"",mode:ka.Login,loggingIn:!1,creating:!1,resetting:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=p.a.auth().onAuthStateChanged(this.authStateChangedCallback);this.setState({unsubscribe:e})}},{key:"componentWillUnmount",value:function(){this.state.unsubscribe&&this.state.unsubscribe()}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.success;return r.createElement(r.Fragment,null,a&&this.renderSuccess(),!t&&this.renderNotice(),t?this.renderLoggedIn(t):this.renderLogin())}}]),t}(r.Component),Ha=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).authStateChangedCallback=function(e){a.setState({user:e})},a.state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"renderModalTrigger",value:function(){var e=this.state.user,t=e?e.email:"Login";return r.createElement(j.a,{loading:void 0===e,className:"nav__auth-status"},r.createElement(x.a,{name:"lock"}),t)}},{key:"componentDidMount",value:function(){var e=p.a.auth().onAuthStateChanged(this.authStateChangedCallback);this.setState({unsubscribe:e})}},{key:"componentWillUnmount",value:function(){this.state.unsubscribe&&this.state.unsubscribe()}},{key:"render",value:function(){return r.createElement(La.a,{trigger:this.renderModalTrigger(),size:"tiny",dimmer:!0,basic:!0},r.createElement(La.a.Content,null,r.createElement(qa,{allowSignup:!1,allowNewCommittee:!0})))}}]),t}(r.Component),Ba=a(594);function Va(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Ga={header:"Permission denied",message:"Please login as the owner of this committee in order to perform that action",disposition:"negative"},Wa={header:"Connection lost",message:"The connection to the server was lost. You may have been logged out",disposition:"negative"},Qa={header:"Connection regained",message:"The connection to the server was regained",disposition:"positive"},Ka=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).computeNewNotificationState=function(e,t){return A.some(e.notifications,t)?{notifications:e.notifications}:(console.info(t),{notifications:[].concat(Object(Ke.a)(e.notifications),[t])})},a.firebaseCallback=function(e){var t=Object(h.a)(a).computeNewNotificationState;e&&a.setState((function(a){var n=e.val(),r=a;return r=!n&&a.hasConnectedBefore?t(r,Wa):r,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Va(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Va(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},r=!a.connected&&n&&a.hasConnectedBefore?t(r,Qa):r,{hasConnectedBefore:n||a.hasConnectedBefore})}))},a.listener=function(e){var t=Object(h.a)(a).computeNewNotificationState,n=e.reason;n&&"PERMISSION_DENIED"===n.code&&a.setState((function(e){return t(e,Ga)}))},a.dismiss=function(e){return function(){var t=Object(Ke.a)(a.state.notifications);t.splice(e,1),a.setState({notifications:t})}},a.renderNotification=function(e,t){return r.createElement(Ve.a,{style:{maxWidth:275},key:t,raised:!0},r.createElement(Ve.a.Content,null,r.createElement(Ve.a.Header,null,e.header),e.message&&r.createElement(Ve.a.Description,null,e.message)),r.createElement(Ve.a.Content,{extra:!0},r.createElement(j.a,{basic:!0,fluid:!0,positive:"positive"===e.disposition,negative:"negative"===e.disposition,onClick:a.dismiss(t)},"Dismiss")))},a.state={notifications:[],connected:!1,hasConnectedBefore:!1,fref:d.database().ref(".info/connected")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("unhandledrejection",this.listener),this.state.fref.on("value",this.firebaseCallback)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.listener),this.state.fref.off("value",this.firebaseCallback)}},{key:"render",value:function(){var e=this.renderNotification,t=this.state.notifications,a=t.map(e);return r.createElement(Ba.a,{open:t.length>0,transition:{animation:"fly left",duration:500}},r.createElement(Ve.a.Group,{itemsPerRow:1,style:{right:5,position:"fixed",top:"7%",zIndex:1e3}},a))}}]),t}(r.Component),Xa=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).firebaseCallback=function(e){e&&a.setState((function(t){var a=e.val();return a||console.info("Firebase connection lost"),{connected:a,hasConnectedBefore:a||t.hasConnectedBefore}}))},a.state={hasConnectedBefore:!1,connected:!1,fref:p.a.database().ref(".info/connected")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.state.fref.on("value",this.firebaseCallback)}},{key:"componentWillUnmount",value:function(){this.state.fref.off("value",this.firebaseCallback)}},{key:"render",value:function(){var e=this.state,t=e.connected,a=e.hasConnectedBefore;return!t&&a?r.createElement(Me.a,{icon:!0,negative:!0},r.createElement(x.a,{name:"circle notched",loading:!0}),r.createElement(Me.a.Content,null,r.createElement(Me.a.Header,null,"Connection Lost"),"Changes are no longer being committed to the server. Either wait for a reconnection or refresh the page. If you refresh the page, you will need to login again.")):r.createElement("div",null)}}]),t}(r.Component);function _a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Za(e){var t=Object(ce.a)(p.a.auth());Object(M.a)(t,1)[0];console.log("allo la gagne");var a=function(e){78===e.keyCode&&e.altKey&&n()},n=function(){if(e.caucus){var t=e.caucus.queue||{},a=Object.keys(t)[0],n={};a&&(n={queueHeadData:t[a],queueHead:e.fref.child("queue").child(a)});var r=Ue(e.caucus),o=r?r*(Fe(e.caucus)===q.Minutes?60:1):60,l={history:e.fref.child("history"),speakingData:e.caucus.speaking,speaking:e.fref.child("speaking"),timerData:e.speakerTimer,timer:e.fref.child("speakerTimer"),yielding:!1,timerResetSeconds:o};oe(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_a(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_a(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l,{},n))}};Object(xe.b)(p.a.database().ref("/.info/serverTimeOffset"));var o=e.caucus,l=e.speakerTimer.ticking,c=o?o.queue:{},i=!!o&&!!o.speaking,s=F.a.values(c).length,u=s>0,m=i||u,d=r.createElement("p",null),h=r.createElement("p",null),g=r.createElement(j.a,{basic:!0,icon:!0,primary:!0,disabled:!m,onClick:n},r.createElement(x.a,{name:"arrow up"}),"Next"),b=r.createElement("p",null),y=r.createElement("p",null),E=g;return i?i&&!l?E=h:i&&l&&u?E=g:i&&l&&!u&&(E=b):E=d,r.useEffect((function(){return document.addEventListener("keydown",a),function(){return document.removeEventListener("keydown",a)}})),r.createElement(v.a,{textAlign:"center",loading:!o},r.createElement(k.a,{attached:"top left",size:"large"},"Next Speaking"),E,r.createElement(je.a,{trigger:y,content:"Orders the list so that speakers are 'For', then 'Against', then 'Neutral', then 'For', etc."}),r.createElement(me,{data:o?o.queue:void 0,queueFref:e.fref.child("queue"),speaking:o?o.speaking:void 0,speakerTimer:e.speakerTimer}))}function Ja(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ya(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ja(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ja(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $a;function en(e){return e&&e.speakerUnit||q.Seconds}function tn(e){return e&&e.speakerDuration?e.speakerDuration:void 0}!function(e){e.Open="Open",e.Closed="Closed"}($a||($a={}));var an=[$a.Open,$a.Closed].map(z),nn={name:"untitled caucus",topic:"",status:$a.Open,speakerTimer:Ya({},K,{remaining:60}),speakerDuration:60,speakerUnit:q.Seconds,caucusTimer:Ya({},K,{remaining:600}),queueIsPublic:!1,queue:{},history:{}},rn=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).firebaseCallback=function(e){e&&a.setState({committee:e.val(),loading:!1})},a.recoverCaucusFref=function(){var e=a.props.match.params.caucusID;return a.state.committeeFref.child("caucuses").child(e)},a.renderHeader=function(e){var t=a.recoverCaucusFref(),n=r.createElement(g.a,{value:e?e.status:$a.Open,options:an,onChange:ye(t,"status")});return r.createElement(v.a,{loading:!e},r.createElement(b.a,{label:n,labelPosition:"right",value:e?e.name:"",onChange:pe(t,"name"),attatched:"top",size:"massive",fluid:!0,placeholder:"Set caucus name"}))},a.renderNowSpeaking=function(e){var t=a.state.speakerTimer,n=a.recoverCaucusFref(),o=e?e.speaking:void 0;return r.createElement(v.a,{loading:!e},r.createElement(k.a,{attached:"top left",size:"large"},"Now Speaking"),r.createElement(O.a,{size:"large"},r.createElement(ue,{data:o,fref:n.child("speaking"),speakerTimer:t})))},a.setSpeakerTimer=function(e){a.setState({speakerTimer:e})},a.setCaucusTimer=function(e){a.setState({caucusTimer:e})},a.renderCaucus=function(e){var t=Object(h.a)(a),n=t.renderNowSpeaking,o=t.renderHeader,l=t.recoverCaucusFref,c=a.state,i=c.speakerTimer,s=c.committee,u=a.props.match.params.caucusID,m=l(),d=(sn(s),r.createElement(Z,{name:"Speaker Timer",timerFref:m.child("speakerTimer"),key:u+"speakerTimer",onChange:a.setSpeakerTimer,toggleKeyCode:83,defaultUnit:en(e),defaultDuration:tn(e)||60})),p=r.createElement(Z,{name:"Caucus Timer",timerFref:m.child("caucusTimer"),key:u+"caucusTimer",onChange:a.setCaucusTimer,toggleKeyCode:67,defaultUnit:q.Minutes,defaultDuration:10}),f=un(s),g=f.autoNextSpeaker,v=f.timersInSeparateColumns,b=f.moveQueueUp,y=r.createElement(C.a.Row,null,r.createElement(C.a.Column,null,o(e))),E=r.createElement("p",null),k=r.createElement(Za,{caucus:e,fref:m,speakerTimer:i,autoNextSpeaker:g}),O=v?r.createElement(C.a.Row,null,r.createElement(C.a.Column,null,d,n(e),k),r.createElement(C.a.Column,null,p)):r.createElement(C.a.Row,null,r.createElement(C.a.Column,null,n(e),b&&E,k,!b&&E));return r.createElement(w.a,null,r.createElement(C.a,{columns:"equal",stackable:!0},y,O))};var n=e.match;return a.state={committeeFref:p.a.database().ref("committees").child(n.params.committeeID),caucusTimer:nn.caucusTimer,speakerTimer:nn.speakerTimer,loading:!0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.state.committeeFref.on("value",this.firebaseCallback)}},{key:"componentWillUnmount",value:function(){this.state.committeeFref.off("value",this.firebaseCallback)}},{key:"render",value:function(){var e=this.state,t=e.committee,a=e.loading,n=this.props.match.params.caucusID,o=mn(t,n);return a||o?this.renderCaucus(o):r.createElement(w.a,{text:!0},r.createElement(Ie,{item:"caucus",id:n}))}}]),t}(r.Component);function on(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ln(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?on(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):on(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function cn(e){return e?L(e.members):[]}function sn(e){return e?e.members||{}:void 0}function un(e){var t=Na.timersInSeparateColumns,a=Na.moveQueueUp,n=Na.autoNextSpeaker;return e&&(void 0!==e.settings.timersInSeparateColumns&&(t=e.settings.timersInSeparateColumns),void 0!==e.settings.moveQueueUp&&(a=e.settings.moveQueueUp),void 0!==e.settings.autoNextSpeaker&&(n=e.settings.autoNextSpeaker)),{timersInSeparateColumns:t,moveQueueUp:a,autoNextSpeaker:n}}function mn(e,t){return((e?e.caucuses:{})||{})[t]}function dn(e,t){return((e?e.resolutions:{})||{})[t]}var pn={name:"",chair:"",topic:"",conference:"",creatorUid:"",members:{},caucuses:{gsl:ln({},Le,{name:"General Speakers List"})},resolutions:{},files:{},strawpolls:{},timer:ln({},K,{remaining:600}),notes:"",settings:Na},fn=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.body,a=e.menu;return r.createElement(It.a,{minWidth:It.a.onlyMobile.maxWidth+1},r.createElement(Pt.a,{fluid:!0,size:"small"},a),t)}}]),t}(r.Component),hn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handlePusherClick=function(){a.state.sidebarOpened&&a.setState({sidebarOpened:!1})},a.handleToggle=function(){a.setState({sidebarOpened:!a.state.sidebarOpened})},a.state={sidebarOpened:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.body,a=e.menu,n=this.state.sidebarOpened;return r.createElement(It.a,It.a.onlyMobile,r.createElement(Tt.a.Pushable,null,r.createElement(Tt.a,{as:Pt.a,animation:"uncover",stackable:!0,visible:n},a),r.createElement(Tt.a.Pusher,{dimmed:n,onClick:this.handlePusherClick,style:{minHeight:"100vh"}},r.createElement(Pt.a,{size:"large"},r.createElement(Pt.a.Item,{onClick:this.handleToggle},r.createElement(x.a,{name:"sidebar"}))),t)))}}]),t}(r.Component);function gn(e){var t=e.match.params.committeeID,a=function(a,n){var o="/committees/".concat(t,"/").concat(a.toLowerCase());return r.createElement(Pt.a.Item,{key:a,name:a.toLowerCase(),active:e.location.pathname===o,onClick:function(){return e.history.push(o)},text:a,icon:n})},n=function(e,t,a){return r.createElement(g.a.Item,{key:e,name:e.toLowerCase(),active:!1,onClick:a,icon:t,text:e})},o=function(a,n){var o="/committees/".concat(t,"/").concat(a.toLowerCase());return r.createElement(Pt.a.Item,{key:a,active:e.location.pathname===o,position:"right",onClick:function(){return e.history.push(o)},icon:n})},l=function(a,n,o,l){var c="/committees/".concat(t,"/").concat(l,"/").concat(a);return r.createElement(g.a.Item,{key:a,name:n,active:e.location.pathname===c,onClick:function(){return e.history.push(c)},text:n})},c=function(){var a=ae(t,Le);e.history.push("/committees/".concat(t,"/caucuses/").concat(a.key))},i=function(){var a=rt(t,Dt);e.history.push("/committees/".concat(t,"/resolutions/").concat(a.key))},s=function(){var s=e.committee,u=s?s.caucuses:void 0,m=s?s.resolutions:void 0,d=s?s.strawpolls:void 0,p=Object.keys(u||{}).filter((function(e){return u[e].status!==Re.Closed})).map((function(e){return l(e,u[e].name,u[e].topic,"caucuses")})),f=Object.keys(m||{}).map((function(e){return l(e,m[e].name,0,"resolutions")}));Object.keys(d||{}).map((function(e){return l(e,d[e].question,0,"strawpolls")}));return r.createElement(r.Fragment,null,r.createElement(Pt.a.Item,{header:!0,key:"header",onClick:function(){return e.history.push("/committees/".concat(t))},active:e.location.pathname==="/committees/".concat(t)},s?s.name:r.createElement(st,{small:!0})),a("Setup","users"),a("Motions","discussions"),r.createElement(g.a,{key:"caucuses",item:!0,text:"Formal Session",loading:!s},r.createElement(g.a.Menu,null,n("New caucus","add",c),p)),r.createElement(g.a,{key:"resolutions",item:!0,text:"Resolutions",loading:!s},r.createElement(g.a.Menu,null,n("New resolution","add",i),f)),r.createElement(Pt.a.Menu,{key:"icon-submenu",position:"right"},o("Settings","settings"),o("Help","help")),r.createElement(Pt.a.Item,{key:"login"},r.createElement(Ha,null)))};return r.createElement(r.Fragment,null,r.createElement(fn,{body:e.children,menu:s()}),r.createElement(hn,{body:e.children,menu:s()}))}var vn=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).firebaseCallback=function(e){e&&a.setState({committee:e.val()})},a.gotoSetup=function(){var e=a.props.match.params.committeeID;a.props.history.push("/committees/".concat(e,"/setup"))},a.renderAdmin=function(){return r.createElement(tt,Object.assign({},a.props,{committee:a.state.committee||pn,fref:a.state.committeeFref}))},a.renderWelcome=function(){var e=a.state,t=e.committee,n=e.committeeFref;return r.createElement(w.a,{text:!0,style:{padding:"1em 0em"}},r.createElement(Rt.a,{as:"h1"},r.createElement(b.a,{value:t?t.name:"",onChange:pe(n,"name"),fluid:!0,error:!!t&&!t.name,placeholder:"Committee name"})),r.createElement(Ge.a,null,r.createElement(Ge.a.Item,null,r.createElement(b.a,{label:"Topic",value:t?t.topic:"",onChange:pe(n,"topic"),fluid:!0,loading:!t,placeholder:"Committee topic"})),r.createElement(Ge.a.Item,null,r.createElement(b.a,{label:"Chairpeople",value:t?t.chair:"",onChange:pe(n,"chair"),fluid:!0,loading:!t,placeholder:"Name(s) of chairperson or chairpeople"})),r.createElement(Ge.a.Item,null,r.createElement(b.a,{label:"Conference",value:t&&t.conference||"",onChange:pe(n,"conference"),fluid:!0,loading:!t,placeholder:"Conference name"}))),r.createElement(v.a,null,r.createElement(Zt,{committeeID:a.props.match.params.committeeID})),r.createElement(v.a,null,r.createElement(k.a,{attached:"top left",size:"large"},"Keyboard Shorcuts"),zt),r.createElement(v.a,{textAlign:"center",basic:!0},r.createElement(j.a,{as:"a",primary:!0,size:"large",onClick:a.gotoSetup},"Setup committee",r.createElement(x.a,{name:"arrow right"}))))};var n=a.props.match.params.committeeID;return a.state={committeeFref:p.a.database().ref("committees").child(n)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("Mounted"),this.state.committeeFref.on("value",this.firebaseCallback)}},{key:"componentWillUnmount",value:function(){console.log("Unmounting"),this.state.committeeFref.off("value",this.firebaseCallback)}},{key:"render",value:function(){var e=this.renderAdmin,t=this.renderWelcome;return r.createElement(r.Fragment,null,r.createElement(Ka,this.props),r.createElement(gn,Object.assign({},this.props,{committee:this.state.committee}),r.createElement(w.a,{text:!0},r.createElement(Xa,null)),r.createElement(l.a,{exact:!0,path:"/committees/:committeeID",render:t}),r.createElement(l.a,{exact:!0,path:"/committees/:committeeID/setup",render:e}),r.createElement(l.a,{exact:!0,path:"/committees/:committeeID/speakers",component:rn}),r.createElement(l.a,{exact:!0,path:"/committees/:committeeID/:caucusID/speakerslist",component:rn}),r.createElement(l.a,{exact:!0,path:"/committees/:committeeID/motions",component:ga}),r.createElement(l.a,{exact:!0,path:"/committees/:committeeID/motions-admin",component:Ua}),r.createElement(l.a,{exact:!0,path:"/committees/:committeeID/notes",component:At}),r.createElement(l.a,{exact:!0,path:"/committees/:committeeID/posts",component:vt}),r.createElement(l.a,{exact:!0,path:"/committees/:committeeID/settings",component:za}),r.createElement(l.a,{exact:!0,path:"/committees/:committeeID/help",component:Lt}),r.createElement(l.a,{path:"/committees/:committeeID/caucuses/:caucusID",component:qe}),r.createElement(l.a,{path:"/committees/:committeeID/resolutions/:resolutionID/:tab?",component:Mt}),r.createElement(Nt,null)))}}]),t}(r.Component);function bn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var yn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).authStateChangedCallback=function(e){a.setState({user:e})},a.handleInput=function(e,t){a.setState(Object(f.a)({},t.name,t.value))},a.handleSubmit=function(){if(a.state.user){var e=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bn(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},pn,{name:a.state.name,topic:a.state.topic,chair:a.state.chair,conference:a.state.conference,creatorUid:a.state.user.uid}),t=a.state.committeesFref.push();t.set(e),a.props.history.push("/committees/".concat(t.key))}},a.renderNewCommitteeForm=function(){var e=a.state.user;return r.createElement(r.Fragment,null,!e&&r.createElement(Me.a,{error:!0,attached:"top",content:"Please login or create an account before creating a committee"}),r.createElement(v.a,{attached:e?void 0:"bottom"},r.createElement(y.a,{onSubmit:a.handleSubmit},r.createElement(y.a.Input,{label:"Name",name:"name",fluid:!0,required:!0,error:""===a.state.name,placeholder:"Committee name",onChange:a.handleInput}),r.createElement(y.a.Input,{label:"Topic",name:"topic",fluid:!0,placeholder:"Committee topic",onChange:a.handleInput}),r.createElement(y.a.Input,{label:"Chairpeople",name:"chair",fluid:!0,placeholder:"Name(s) of chairperson or chairpeople",onChange:a.handleInput}),r.createElement(y.a.Input,{label:"Conference",name:"conference",fluid:!0,placeholder:"Conference name",onChange:a.handleInput}),r.createElement(y.a.Button,{primary:!0,fluid:!0,disabled:!a.state.user||""===a.state.name},"Create committee",r.createElement(x.a,{name:"arrow right"})))))},a.state={name:"",topic:"",chair:"",conference:"",user:null,committeesFref:d.database().ref("committees")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=d.auth().onAuthStateChanged(this.authStateChangedCallback);this.setState({unsubscribe:e})}},{key:"componentWillUnmount",value:function(){this.state.unsubscribe&&this.state.unsubscribe()}},{key:"render",value:function(){return r.createElement(w.a,{style:{padding:"1em 0em"}},r.createElement(Xa,null),r.createElement(C.a,{columns:"equal",stackable:!0},r.createElement(C.a.Row,null,r.createElement(C.a.Column,null,r.createElement(Rt.a,{as:"h1",dividing:!0},"Muncoordinated"),r.createElement(D.a,{hidden:!0}),"Muncoordinated officially supports recent versions of Google Chrome. Use of older and other browsers has been known to cause bugs and data loss.")),r.createElement(D.a,null),r.createElement(C.a.Row,null,r.createElement(C.a.Column,null,r.createElement(qa,{allowSignup:!1,allowNewCommittee:!0})),r.createElement(C.a.Column,null,this.renderNewCommitteeForm()))))}}]),t}(r.Component),En=a(331),kn=a(580),On=function(e){var t=e.mobile;return r.createElement(w.a,{text:!0},r.createElement(Rt.a,{as:"h1",content:"QMUN 2022",inverted:!0,style:{fontSize:t?"2em":"4em",fontWeight:"bold",marginBottom:0,marginTop:t?"1.5em":"3em"}}),r.createElement("br",null),r.createElement(En.a,{centered:!0,size:"small",rounded:!0,src:"/images/logo.png"}),r.createElement(Rt.a,{as:"h2",content:"Quebec Model United Nations Conference 2022",inverted:!0,style:{fontSize:t?"1.5em":"1.7em",fontWeight:"normal",marginTop:t?"0.5em":"1.5em"}}),r.createElement("br",null),r.createElement(j.a,{as:"a",primary:!0,size:"huge",href:"/committees/-MEZXMLXacUeaJyXM4zR"},"Hub UNEA-A"),r.createElement(j.a,{as:"a",primary:!0,size:"huge",href:"/committees/-MT2m3_0wvJdSHeKrk4-"},"Hub UNEA-B"),r.createElement("br",null),r.createElement("br",null),r.createElement(j.a,{as:"a",primary:!0,size:"huge",href:"https://bdeb.zoom.us/j/86958002348?pwd=YS9CbmlFMk5EZEt3dzV4dlBCUWNaQT09"},"Zoom UNEA-A"),r.createElement(j.a,{as:"a",primary:!0,size:"huge",href:"https://bdeb.zoom.us/j/89929697341?pwd=VDUxdXp2N2pIWnVKbVU2UzBHaVpSUT09"},"Zoom UNEA-B"),r.createElement("br",null),r.createElement("br",null),r.createElement("br",null),r.createElement("br",null),r.createElement("br",null))},Cn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).hideFixedMenu=function(){a.setState({fixed:!1})},a.showFixedMenu=function(){a.setState({fixed:!0})},a.state={fixed:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state.fixed;return r.createElement(It.a,{minWidth:It.a.onlyMobile.maxWidth+1},r.createElement(kn.a,{once:!1,onBottomPassed:this.showFixedMenu,onBottomPassedReverse:this.hideFixedMenu},r.createElement(v.a,{inverted:!0,textAlign:"center",style:{minHeight:700,padding:"1em 0em"},vertical:!0},r.createElement(Pt.a,{fixed:t?"top":void 0,inverted:!t,pointing:!t,secondary:!t,size:"large"},r.createElement(w.a,null,r.createElement(Pt.a.Item,{as:"a",active:!0},"Home"),r.createElement(Pt.a.Item,{as:"a",href:"/committees/-MEZXMLXacUeaJyXM4zR"},"QMUN Hub"),r.createElement(Pt.a.Item,{as:"a",href:"/guides"},"Background Guides"))),r.createElement(On,{mobile:!1}))),e)}}]),t}(r.Component),wn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handlePusherClick=function(){a.state.sidebarOpened&&a.setState({sidebarOpened:!1})},a.handleToggle=function(){a.setState({sidebarOpened:!a.state.sidebarOpened})},a.state={sidebarOpened:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state.sidebarOpened;return r.createElement(It.a,It.a.onlyMobile,r.createElement(Tt.a.Pushable,null,r.createElement(Tt.a,{as:Pt.a,animation:"uncover",inverted:!0,vertical:!0,visible:t},r.createElement(Pt.a.Item,{as:"a",active:!0},"Home"),r.createElement(Pt.a.Item,{as:"a",href:"/committees/-MEZXMLXacUeaJyXM4zR"},"QMUN Hub"),r.createElement(Pt.a.Item,{as:"a",href:"/guides"},"Background Guides")),r.createElement(Tt.a.Pusher,{dimmed:t,onClick:this.handlePusherClick,style:{minHeight:"100vh"}},r.createElement(v.a,{inverted:!0,textAlign:"center",style:{minHeight:350,padding:"1em 0em"},vertical:!0},r.createElement(w.a,null,r.createElement(Pt.a,{inverted:!0,pointing:!0,secondary:!0,size:"large"},r.createElement(Pt.a.Item,{onClick:this.handleToggle},r.createElement(x.a,{name:"sidebar"})))),r.createElement(On,{mobile:!0})),e)))}}]),t}(r.Component),jn=function(e){var t=e.children;return r.createElement(r.Fragment,null,r.createElement(Cn,null,t),r.createElement(wn,null,t))},xn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"renderStatistics",value:function(){return r.createElement(We.a.Group,{textAlign:"center"},r.createElement(We.a,null,r.createElement(We.a.Value,null,this.state.committeeNo||r.createElement(st,{small:!0})),r.createElement(We.a.Label,null,"Committees created")),r.createElement(We.a,null,r.createElement(We.a.Value,null,this.state.delegateNo||r.createElement(st,{small:!0})),r.createElement(We.a.Label,null,"Delegates participating")))}},{key:"render",value:function(){return r.createElement(jn,null,r.createElement(v.a,{inverted:!0,vertical:!0,style:{padding:"5em 0em"}},r.createElement(w.a,null,r.createElement(C.a,{divided:!0,inverted:!0,stackable:!0},r.createElement(C.a.Row,null,r.createElement(C.a.Column,{width:3},r.createElement(Rt.a,{inverted:!0,as:"h4",content:"About"}),r.createElement(Ge.a,{link:!0,inverted:!0},r.createElement(Ge.a.Item,{as:"a",href:"https://www.facebook.com/unyc.contact"},"Facebook Page"),r.createElement(Ge.a.Item,{as:"a",href:"https://github.com/MaxwellBo/Muncoordinated-2"},"Source"),r.createElement(Ge.a.Item,{as:"a",href:"https://github.com/MaxwellBo/Muncoordinated-2/blob/master/LICENSE"},"License"))),r.createElement(C.a.Column,{width:7},r.createElement(Rt.a,{as:"h4",inverted:!0},"Info"),r.createElement("p",null,"Made by ",r.createElement("a",{href:"https://github.com/vicbab"},"Victor Babin"),", adapted from Muncoordinated by ",r.createElement("a",{href:"https://github.com/MaxwellBo"},"Max Bo")),r.createElement("p",null,"Copyright \xa9 2022 - Published under the GNU license.")))))))}}]),t}(r.Component),Sn=function(e){var t=e.mobile;return r.createElement(w.a,{text:!0},r.createElement(Rt.a,{as:"h1",content:"Background Guides for QMUN 2022",inverted:!0,style:{fontSize:t?"2em":"4em",fontWeight:"normal",marginBottom:0,marginTop:t?"1.5em":"3em"}}),r.createElement("br",null),r.createElement(j.a,{as:"a",primary:!0,size:"huge",href:"/UNEA-QMUN-2022.pdf",target:"_blank"},"Click to download your Background Guide"),r.createElement("br",null))},Dn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).hideFixedMenu=function(){a.setState({fixed:!1})},a.showFixedMenu=function(){a.setState({fixed:!0})},a.state={fixed:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state.fixed;return r.createElement(It.a,{minWidth:It.a.onlyMobile.maxWidth+1},r.createElement(kn.a,{once:!1,onBottomPassed:this.showFixedMenu,onBottomPassedReverse:this.hideFixedMenu},r.createElement(v.a,{inverted:!0,textAlign:"center",style:{minHeight:700,padding:"1em 0em"},vertical:!0},r.createElement(Pt.a,{fixed:t?"top":void 0,inverted:!t,pointing:!t,secondary:!t,size:"large"},r.createElement(w.a,null,r.createElement(Pt.a.Item,{as:"a",href:"/"},"Home"),r.createElement(Pt.a.Item,{as:"a",href:"/committees/-MEZXMLXacUeaJyXM4zR"},"QMUN Hub"),r.createElement(Pt.a.Item,{as:"a",href:"/guides",active:!0},"Background Guides"))),r.createElement(Sn,{mobile:!1}))),e)}}]),t}(r.Component),Mn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handlePusherClick=function(){a.state.sidebarOpened&&a.setState({sidebarOpened:!1})},a.handleToggle=function(){a.setState({sidebarOpened:!a.state.sidebarOpened})},a.state={sidebarOpened:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state.sidebarOpened;return r.createElement(It.a,It.a.onlyMobile,r.createElement(Tt.a.Pushable,null,r.createElement(Tt.a,{as:Pt.a,animation:"uncover",inverted:!0,vertical:!0,visible:t},r.createElement(Pt.a.Item,{as:"a"},"Home"),r.createElement(Pt.a.Item,{as:"a",href:"/committees/-MEZXMLXacUeaJyXM4zR"},"Hub A"),r.createElement(Pt.a.Item,{as:"a",href:"#"},"Hub B"),r.createElement(Pt.a.Item,{as:"a",href:"/guides",active:!0},"Background Guides")),r.createElement(Tt.a.Pusher,{dimmed:t,onClick:this.handlePusherClick,style:{minHeight:"100vh"}},r.createElement(v.a,{inverted:!0,textAlign:"center",style:{minHeight:350,padding:"1em 0em"},vertical:!0},r.createElement(w.a,null,r.createElement(Pt.a,{inverted:!0,pointing:!0,secondary:!0,size:"large"},r.createElement(Pt.a.Item,{onClick:this.handleToggle},r.createElement(x.a,{name:"sidebar"})))),r.createElement(Sn,{mobile:!0})),e)))}}]),t}(r.Component),In=function(e){var t=e.children;return r.createElement(r.Fragment,null,r.createElement(Dn,null,t),r.createElement(Mn,null,t))},Pn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"renderStatistics",value:function(){return r.createElement(We.a.Group,{textAlign:"center"},r.createElement(We.a,null,r.createElement(We.a.Value,null,this.state.committeeNo||r.createElement(st,{small:!0})),r.createElement(We.a.Label,null,"Committees created")),r.createElement(We.a,null,r.createElement(We.a.Value,null,this.state.delegateNo||r.createElement(st,{small:!0})),r.createElement(We.a.Label,null,"Delegates participating")))}},{key:"render",value:function(){return r.createElement(In,null,r.createElement(v.a,{inverted:!0,vertical:!0,style:{padding:"5em 0em"}},r.createElement(w.a,null,r.createElement(C.a,{divided:!0,inverted:!0,stackable:!0},r.createElement(C.a.Row,null,r.createElement(C.a.Column,{width:3},r.createElement(Rt.a,{inverted:!0,as:"h4",content:"About"}),r.createElement(Ge.a,{link:!0,inverted:!0},r.createElement(Ge.a.Item,{as:"a",href:"https://github.com/MaxwellBo/Muncoordinated-2"},"Source"),r.createElement(Ge.a.Item,{as:"a",href:"https://github.com/MaxwellBo/Muncoordinated-2/blob/master/LICENSE"},"License"))),r.createElement(C.a.Column,{width:7},r.createElement(Rt.a,{as:"h4",inverted:!0},"Info"),r.createElement("p",null,"Made by ",r.createElement("a",{href:"https://github.com/vicbab"},"Vic SB"),", adapted from Muncoordinated by ",r.createElement("a",{href:"https://github.com/MaxwellBo"},"Max Bo")),r.createElement("p",null,"Copyright \xa9 2020")))))))}}]),t}(r.Component),Tn=function(e){var t=e.mobile;return r.createElement(w.a,{text:!0},r.createElement(Rt.a,{as:"h1",content:"FAQ",inverted:!0,style:{fontSize:t?"2em":"4em",fontWeight:"normal",marginBottom:0,marginTop:t?"1.5em":"3em"}}),r.createElement(Rt.a,{as:"h2",content:"Frequently Asked Questions",inverted:!0,style:{fontSize:t?"1.5em":"1.7em",fontWeight:"normal",marginTop:t?"0.5em":"1.5em"}}))},Rn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).hideFixedMenu=function(){a.setState({fixed:!1})},a.showFixedMenu=function(){a.setState({fixed:!0})},a.state={fixed:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state.fixed;return r.createElement(It.a,{minWidth:It.a.onlyMobile.maxWidth+1},r.createElement(kn.a,{once:!1,onBottomPassed:this.showFixedMenu,onBottomPassedReverse:this.hideFixedMenu},r.createElement(v.a,{inverted:!0,textAlign:"center",style:{minHeight:700,padding:"1em 0em"},vertical:!0},r.createElement(Pt.a,{fixed:t?"top":void 0,inverted:!t,pointing:!t,secondary:!t,size:"large"},r.createElement(w.a,null,r.createElement(Pt.a.Item,{as:"a",href:"/"},"Home"),r.createElement(Pt.a.Item,{as:"a",href:"/committees/-MEZXMLXacUeaJyXM4zR"},"QMUN Hub"),r.createElement(Pt.a.Item,{as:"a",href:"/guides"},"Background Guides"),r.createElement(Pt.a.Item,{as:"a",href:"/faq",active:!0},"FAQ"))),r.createElement(Tn,{mobile:!1}))),e)}}]),t}(r.Component),An=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handlePusherClick=function(){a.state.sidebarOpened&&a.setState({sidebarOpened:!1})},a.handleToggle=function(){a.setState({sidebarOpened:!a.state.sidebarOpened})},a.state={sidebarOpened:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state.sidebarOpened;return r.createElement(It.a,It.a.onlyMobile,r.createElement(Tt.a.Pushable,null,r.createElement(Tt.a,{as:Pt.a,animation:"uncover",inverted:!0,vertical:!0,visible:t},r.createElement(Pt.a.Item,{as:"a"},"Home"),r.createElement(Pt.a.Item,{as:"a",href:"/committees/-MEZXMLXacUeaJyXM4zR"},"QMUN Hub"),r.createElement(Pt.a.Item,{as:"a",href:"/guides"},"Background Guides"),r.createElement(Pt.a.Item,{as:"a",href:"/faq",active:!0},"FAQ")),r.createElement(Tt.a.Pusher,{dimmed:t,onClick:this.handlePusherClick,style:{minHeight:"100vh"}},r.createElement(v.a,{inverted:!0,textAlign:"center",style:{minHeight:350,padding:"1em 0em"},vertical:!0},r.createElement(w.a,null,r.createElement(Pt.a,{inverted:!0,pointing:!0,secondary:!0,size:"large"},r.createElement(Pt.a.Item,{onClick:this.handleToggle},r.createElement(x.a,{name:"sidebar"})))),r.createElement(Tn,{mobile:!0})),e)))}}]),t}(r.Component),Fn=function(e){var t=e.children;return r.createElement(r.Fragment,null,r.createElement(Rn,null,t),r.createElement(An,null,t))},Un=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"renderStatistics",value:function(){return r.createElement(We.a.Group,{textAlign:"center"},r.createElement(We.a,null,r.createElement(We.a.Value,null,this.state.committeeNo||r.createElement(st,{small:!0})),r.createElement(We.a.Label,null,"Committees created")),r.createElement(We.a,null,r.createElement(We.a.Value,null,this.state.delegateNo||r.createElement(st,{small:!0})),r.createElement(We.a.Label,null,"Delegates participating")))}},{key:"render",value:function(){return r.createElement(Fn,null,r.createElement(v.a,{style:{padding:"3em 0em"},vertical:!0},r.createElement(C.a,{container:!0,stackable:!0,verticalAlign:"middle"},r.createElement(C.a.Row,null,r.createElement(C.a.Column,{width:8},r.createElement(Rt.a,{as:"h3",style:{fontSize:"2em"}},"How are you?"),r.createElement("p",{style:{fontSize:"1.33em"}},"Pretty good, you?"))))),r.createElement(v.a,{inverted:!0,vertical:!0,style:{padding:"5em 0em"}},r.createElement(w.a,null,r.createElement(C.a,{divided:!0,inverted:!0,stackable:!0},r.createElement(C.a.Row,null,r.createElement(C.a.Column,{width:3},r.createElement(Rt.a,{inverted:!0,as:"h4",content:"About"}),r.createElement(Ge.a,{link:!0,inverted:!0},r.createElement(Ge.a.Item,{as:"a",href:"https://github.com/MaxwellBo/Muncoordinated-2"},"Source"),r.createElement(Ge.a.Item,{as:"a",href:"https://github.com/MaxwellBo/Muncoordinated-2/blob/master/LICENSE"},"License"))),r.createElement(C.a.Column,{width:7},r.createElement(Rt.a,{as:"h4",inverted:!0},"Info"),r.createElement("p",null,"Made by ",r.createElement("a",{href:"https://github.com/vicbab"},"Vic SB"),", adapted from Muncoordinated by ",r.createElement("a",{href:"https://github.com/MaxwellBo"},"Max Bo")),r.createElement("p",null,"Copyright \xa9 2020")))))))}}]),t}(r.Component);d.initializeApp({apiKey:"AIzaSyCK_r3i6bZvRVW_dNOMXKhS563Pf_aqEps",authDomain:"qmun2021.firebaseapp.com",databaseURL:"https://qmun2021.firebaseio.com",projectId:"qmun2021",storageBucket:"qmun2021.appspot.com",messagingSenderId:"776859144464",appId:"1:776859144464:web:e2ecaa3903a21416edd595",measurementId:"G-8S18Z87KZ6"});var Nn=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.createElement(r.Fragment,null,r.createElement(l.a,{exact:!0,path:"/",component:xn}),r.createElement(l.a,{exact:!0,path:"/onboard",component:yn}),r.createElement(l.a,{exact:!0,path:"/guides",component:Pn}),r.createElement(l.a,{exact:!0,path:"/faq",component:Un}),r.createElement(l.a,{exact:!0,path:"/committees",component:yn}),r.createElement(l.a,{path:"/committees/:committeeID",component:vn}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var zn=a(329),Ln=a.n(zn),qn=a(123),Hn=a(582);a(549);Hn.a({dsn:"https://1e4f23a087974ab482cacf50699c6dbd@sentry.io/1296285"}),qn.a("UA-122177622-1"),qn.b(window.location.pathname+window.location.search);var Bn=Ln()();Bn.listen((function(e,t){qn.c({page:e.pathname}),qn.b(e.pathname)})),o.render(r.createElement(l.b,{history:Bn},r.createElement(Nn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[338,1,2]]]);
//# sourceMappingURL=main.d93a1148.chunk.js.map